<!DOCTYPE html>
<html lang="he" itemscope="" itemtype="http://schema.org/Blog" ng-app="phpg">
<head>
<base href="http://phpguide.co.il/">
<meta charset="utf-8">
<meta name="description" content="שאלה דברים שלא הבנתי בלארוול">
<meta name="keywords" content="שאלה, עזרה">
<meta name="author" content="hadash">
<link rel="shortcut icon" href="..\static\images\favicon.ico">
<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="stylesheet" type="text/css" href="..\static\styles\A.allstyles.compiled.css.pagespeed.cf.P4R8BwzxFu.css">
<title>דברים שלא הבנתי בלארוול | שאלת לימוד PHP</title>
<meta itemprop="name" content="דברים שלא הבנתי בלארוול | שאלת לימוד PHP">
<meta itemprop="description" content="שאלה דברים שלא הבנתי בלארוול">
</head>
<body dir='rtl' class="forum-qna">
<div class='page-container'>
<section id='header'>
<div class="topRowHolder">
<a class="logo" href="..\index.htm"><img src="..\static\images\xlogo.jpg.pagespeed.ic.6YgiLES4FJ.jpg"></a>
<nav class="main">
<ul>
<li><a href="..\index.htm">פוסטים</a></li>
<li><a href="..\qna.htm" class="active">פורום</a></li>
</ul>
<div class="clear"></div>
</nav> <div class="clear"></div>
</div>
</section>  
<div class="layout-holder">
<section id="content">
<div class="qna_view_question" id="qnaQuestionHolder">
<div class="qna-home-row">
<div class="counts">
 
<div class="status  answered">
<div class="item-count">6</div>
<div>
תגובות
</div>
</div>
</div>
<div class="question-summary-wrapper">
<h2><a href="דברים שלא הבנתי בלארוול.htm" title="התחלתי להשתמש בלארוול, פריימוורק באמת יפה וקל להבנה . אבל יש כמה דברים שלא כל כך הבנתי ואני צריך חידוד ואשמח אם תוכלו לעזור לי.1. Middleware - זה בעצם בדיקות, כמו validate, רק לא לתוכן מסויים אלא לhttp. כמו קוקיז, סשנס, גט ופוסט? במידלוור לדוגמה אני בודק שהid שאני מקבל דרך הכתובת (get) שווה מספר ולא אותיות ? 2. Requerts  ו response , יש מה לחקור ולחפור בנושא יותר מדי, או שסביר להניח שאני פחות אגע ממש בהם ? 3. Services providers/container - לא כל כך הבנתי מה הם ובמה הם עוזרים. ">דברים שלא הבנתי בלארוול</a></h2>
<div class="userinfo">
פתח
<a>hadash</a>
,
<time class="timeago relativetime" datetime="2015-10-08T12:52:18+03:00" style="display:inline-block;">
08 לאוקטובר 2015 </time>
</div>
</div>
</div> <div class="clear"></div>
<div style="border-top:1px dashed #D1D1D1; margin-top:10px; padding-top:10px; " class="qnapost" id='questionText2193'>
התחלתי להשתמש בלארוול, פריימוורק באמת יפה וקל להבנה . אבל יש כמה דברים שלא כל כך הבנתי ואני צריך חידוד ואשמח אם תוכלו לעזור לי.<br>1. Middleware - זה בעצם בדיקות, כמו validate, רק לא לתוכן מסויים אלא לhttp. כמו קוקיז, סשנס, גט ופוסט? במידלוור לדוגמה אני בודק שהid שאני מקבל דרך הכתובת (get) שווה מספר ולא אותיות ? <br>2. Requerts ו response , יש מה לחקור ולחפור בנושא יותר מדי, או שסביר להניח שאני פחות אגע ממש בהם ? <br>3. Services providers/container - לא כל כך הבנתי מה הם ובמה הם עוזרים. <br>4. Contract הבנתי שזה interfaces בעצם, אז מה זה facades? ואיפה אני שם contracts משלי ? <br>5. Auth, לכתוב מחדש רישום והתחברות או שכדאי להשאיר את זה כמו שלארוול עשתה כבר ופשוט לשנות בקוד הקיים אם יש לי מה ?<br>6. איפה אני כותב traits? <br>7. מה ההבדל בין $this-&gt;validate לבין Validator::make. <br>8. מה זה jobs וevents, והאם אני חייב להשתמש בהם ? <br>9. איפה אני כותב שגיאות משלי ? ולמה לפעמים לא מופיעה שגיאה ומופיע פשוט דף לבן ריק? <br>מצטער שזה המון אבל זה דברים שמציקים לי אז אני מקווה שתעזרו לי :) תודה רבה </div>
</div>
<h3>
<span id="answersCounter">6 </span>
תשובות
</h3>
<section class="answers" id="qnaAnswers">
<div class="answer" id="answer9587">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/44e7298b55a5b30f738887af3dcda9ff?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>ttv20</a>
ב
<span style="font-size:10px"> 09 לאוקטובר 2015 </span>
<a id="answer_9587" href="דברים שלא הבנתי בלארוול.htm#answer_9587">#</a>
</span>
<div class="clear"></div>
</div>
<p>
1. Middleware תרגום - אמצע הדרך - זה נועד לבדיקה עם המשתמש מחובר או לא וכדומה (בדיקה בין הניווט של המשתמש ובין ההגעה לפונקציה בקונטרולר<br> validate נועד לבדיקת נתונים מטפסים (כמו לדוגמה שהID הוא מספרים) </p>
</div>
<div class="answer" id="answer9588">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/29c688bfdc6cb0d2e6dea24ccdc7beb1?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>intval</a>
ב
<span style="font-size:10px"> 09 לאוקטובר 2015 </span>
<a id="answer_9588" href="דברים שלא הבנתי בלארוול.htm#answer_9588">#</a>
</span>
<div class="clear"></div>
</div>
<p>
1,2. בפריימוורקים מסוימים, ביניהם לאראוול, אקספרס, סלים, וסימפוני, מקובל לחשוב על העבודה שהשרת מבצע בתור עיבוד של <strong>בקשה לשרת</strong> ל<strong>תשובה ללקוח</strong>. הרעיון אומר שמהלקוח מגיעות בקשות. בקשות (מסוג http) כוללות כל מני נתונים, כמו כתובת, כותרים, קוקיז ותוכן של טפסים. תשובות http כוללות כותרים (קוקיז, סטטוס בקשה 404 וכו) ותוכן שיכול להיות ויכול שלא להיות בפורמט html.<br><br>הרעיון של הפריימוורקים הללו היא שאתה תכתוב פונקציה (מתודה של מחלקה מסוג קונטרולר) שיודעת לקבל בקשה ולהחזיר על בסיסה תשובה. עבור בקשות לכתובות שונות תכתוב פונקציות שונות ועל בסיס מיפוי כתובות לקונטרולרים הפריימורק יפעיל את הפונקציה המתאימה שלך.<br><br><div class="php codeblock">Request <span class="sy0">---&gt;</span> <span class="me1">Your</span> Method <span class="sy0">---&gt;</span> <span class="me1">Response</span></div><br><br>אמנם לפעמים הם מציאים לך קיצורי דרך, כמו ישר לעשות echo מתוך הקונטרולר. במקרים כאלה הפריימורק יוצר לבד תשובה מסוג http, מציב לה כותרים מתאימים, עותף אותה בסטטוס מתאים ומכניס לתוכן שלה את הטקסט שפלטת.<br><br>לצורת העבודה הזו יש פאנצ&apos;ר אחד קטן. במקרים מסוימים הוא יוצר כפל קוד.<br>למשל, אם תרצה לדחוס את הפלט לשימור גודל התעבורה באמצעות gzip, תצטרך להוסיף לסוף כל מתודה שכתבת פעולה כזו.<br>דוגמה אחרת היא אם תרצה להוסיף בדיקת הזדהות לפעולות מסוימות. במקרה הזה תצטרך להוסיף קוד בדיקת הזדהות בכל מתודה רלוונטית.<br><br>כדי למנוע את כפל הקוד הזה נשנה קצת את התמונה.<br><div class="php codeblock">Request <span class="sy0">---&gt;</span> <span class="br0">&#91;</span><span class="kw2">Function</span> that checks Auth<span class="br0">&#93;</span> <span class="sy0">---&gt;</span> <span class="me1">Your</span> Method <span class="sy0">---&gt;</span> <span class="br0">&#91;</span>gZIP<span class="br0">&#93;</span> <span class="sy0">---&gt;</span> <span class="me1">Response</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="sy0">|</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="sy0">|</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;v<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#40;</span>Not authenticated<span class="br0">&#41;</span> Response</div><br><br>עכשיו הדחיסה ובדיקת ההזדהות נכתבות רק פעם אחת בפונקציות נפרדות שמתווספות לתזרים.<br>פונקציות כאלה נקראות middleware, פונקציות אמצע, שנמצאות איפשהו בין לבין על תזרים הבקשה-תשובה.<br><br>לתוך הפריימוורק מובנות פונקציות רבות כאלה שאתה לא רואה על התרשים. כמו פונקציה שמקבלת את הבקשה ועל בסיס הכתובת שבה (והמיפוי שהגדרת) מחליטה איזו פונקציה הבאה להפעיל או להחזיר קובץ מתיקיה או להחזיר תשובה מסוג 404. בסוף הזרם נמצאת פונקציה שבודקת האם היו שגיאות כלשהן במערכת ומציגה עמוד 505 וכו&apos;.<br><br><br><br>5. המטרה של פריימוורק זה לספק לך כלים ופתרונות כדי שלא תצטרך לכתוב אותם לבד. לכן המסכנה היא להשתמש במה שקיים.<br>אם אתה בכל זאת רוצה להוסיף לזה משהו, בשום פנים ואופן אל תשנה את קוד המקור של הפריימוורק עצמו. <br>א. זה לא הדרך העדיפה<br>ב. זה ימנע ממך לעדכן גרסה בעתיד<br>הדרך העדיפה היא לקרוא את הדוקומנטציה. את רוב המחלקות שצריך אפשרת לרשת או לדרוס או לממש אינטרפייס משלך למה שצריך. פנה לדוקומנטציה לעזרה.<br><br>6. עליך להתייחס ל-traits כאל מחלקות רגילות ולמקם אותם בעץ בהתאם. כלומר בשם תיקיות דומה לשם הניימספייס שלהם (בדיוק כפי שהייתה ממקם את הקובץ אילו הייתה זו מחלקה ולא טרייט)<br><br>7. this validate משתמש במופע קיים של ולידטור שיש בתוך המחלקה, השני יוצר מופע של ולידטור חדש. אני מניח שאם תציב אותו בתוך this תקבל את אותה התוצאה, אך לא בטוח. תבדוק בקוד המקור.<br><br>8. אתה לא חייב. events הם חלק מפטרן תכנות שנקרא <a href="..\observer pattern-1.htm">observer</a><br>job היא מחלקה בסיסית שאתה אמור לירוש, המייצגת הודעה בתור. קונצפט מסובך. תשכח ממנו. לא מיועד לאתרים פשוטים.<br><br>9. שגיאות הם בסה&quot;כ מחלקות מסוג אקספשן, מה שאומר שאתה ממקם אותם באותו מקום (לפי שם ניימספייס תואם לשם התיקיה) איפה שהייתה ממקם מחלקות רגילות וטרייטים. אםה אתה מתכוון לשגיאות וולידציה כמו &quot;מה זה, הכתובת שהזנת איננה תקינה&quot; אז זה בולידטורים.<br>עמוד ריק מופיע לך לפעמים בגלל שבקוד יש גיאות פיענוח (מנוע ה-PHP לא הצליח להבין את הקוד ולכן לא הצליח להפעיל אותו. זה לא קשור ללאראוול. מספיק שלא תשים נקודה פסיק איפשהו. </p>
</div>
<div class="answer" id="answer9590">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/f032a456f986ab5afe0da9fd5706f3c3?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Splash</a>
ב
<span style="font-size:10px"> 09 לאוקטובר 2015 </span>
<a id="answer_9590" href="דברים שלא הבנתי בלארוול.htm#answer_9590">#</a>
</span>
<div class="clear"></div>
</div>
<p>
1. middleware הוא לא &quot;אמצע הדרך&quot; אומנם אם נכניס ל google translate זה אולי מה שנקבל אבל הקוד שאמור להיות ב middleware הוא קוד כללי שיכול לפעול על מספר קונטרולרים במקביל <strong>לפניהם</strong> או <strong>אחריהם</strong> למשל אני רוצה שאחרי כל בקשה לבצע exec לתכנית מסוימת -&gt; after middleware. בדיקה של האם המשתמש מחובר -&gt; before middleware.<br>הסברתי בעבר על איך לבצע בדיקה לפרמטרים מכתובת - <a href="..\ניתוב עם laravel  שימוש בפילטר.htm">ניתוב עם laravel + שימוש בפילטר</a> ה Middleware הוא התחליף של פילטר ב laravel 5.<br><br>2.אין יותר מידי מה לחפור אבל כדאי לדעת דברים בסיסים כמו איך לשלוח הדרים,איך לבצע redirect וכו&apos;<br><br>3.אני חושב שהתיעוד שיש באתר שלהם הוא מעולה ואני מאוד ממליץ לקרוא בהרחבה גם על <a href="http://laravel.com/docs/5.1/container">service container</a> וגם על <a href="http://laravel.com/docs/5.1/providers">provider</a> במידה ויש משהו שלא הבנת אתה מוזמן לשאול.<br><br>4.האם אתה יודע מהו <a href="https://en.wikipedia.org/wiki/Facade_pattern">facade</a> ? לגבי לכתוב contract משלך אתה תצטרך להסביר מה אתה עושה,בכללי אני חושב שאם אתה כותב interface באפליקציית laravel עדיף אולי לפתח את זה בתור plugin ואז יהיה לך יותר קל להשתמש באותו קוד גם בפרויקטים אחרים.<br><br>5.כל עוד הקבצים לא נמצאים בתיקיה vendor אתה יכול להרגיש חופשי לשחק איתם.<br><br>6.איפה הייתה כותב אותם ללא laravel ? אתה יכול ליצור תיקיה חדשה בפרויקט ולקרוא לה &quot;traits&quot;.<br><br>7.אין הבדל.<br><br>8.jobs - מאפשר לך ליצור פעולות בצורה אסינכרונית או סינכרונית,למשל שליחת מייל אני מעדיף שתתבצע ברקע מאחר והיא יכולה לקחת כשנייה וחבל שהמשתמש ימתין עד לשליחת המייל בשביל שאני ישלח לו תשובה.<br><br>events - ליצור אירועים שקורים באפליקציה - משתמש נרשם,תשלום שבוצע באתר וכו&apos; ואז כאשר אותו אוונט קורא להפעיל קוד מסוים ,אם זה הרשמה לדוגמא אז לשלוח אימייל ברוכים הבאים,אם זה קנייה אז לשלוח קבלה.<br><br>9.יש לך בתיקיה app תיקייה שנקראת exceptions שם אמורים להיות כל השגיאות שלך,ויש לך את ה handler שהוא זה שמופעל מתי שיש שגיאה.<br>לגבי דף לבן אני לא כזה סגור אבל אני משאר שאתה נמצא ב production והטמפלט של ה &quot;oops&quot; חסר או משהו בכל מקרה אתה יכול לבצע דיבאג ולראות מה גרם לכך. </p>
</div>
<div class="answer" id="answer9591">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/44e7298b55a5b30f738887af3dcda9ff?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>ttv20</a>
ב
<span style="font-size:10px"> 10 לאוקטובר 2015 </span>
<a id="answer_9591" href="דברים שלא הבנתי בלארוול.htm#answer_9591">#</a>
</span>
<div class="clear"></div>
</div>
<p>
9. קרה לי שהיה לי דף לבן במקום שגיאה<br>זה אומר שיש שגיאות ב blade<br>אני לדוגמה שמתי הערה של<br>{{-- --}} על סוגריים של blade ואז בכלל לא הופיעה שגיאה אלא רק דף לבן<br><br>https://www.google.com/search?q=laravel+wight+page#safe=active&amp;q=laravel+white+page </p>
</div>
<div class="answer" id="answer9592">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/44e7298b55a5b30f738887af3dcda9ff?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>ttv20</a>
ב
<span style="font-size:10px"> 11 לאוקטובר 2015 </span>
<a id="answer_9592" href="דברים שלא הבנתי בלארוול.htm#answer_9592">#</a>
</span>
<div class="clear"></div>
</div>
<p>
9. אם הקובץ של הלוג גדול מידי הוא לא מציג הערות , כרגע קרה לי </p>
</div>
<div class="answer" id="answer9593">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/2f33863054be0d19b54befe6970b1e36?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>hadash</a>
ב
<span style="font-size:10px"> 11 לאוקטובר 2015 </span>
<a id="answer_9593" href="דברים שלא הבנתי בלארוול.htm#answer_9593">#</a>
</span>
<div class="clear"></div>
</div>
<p>
תודה רבה לכם :)<br><a href="..\users\intval.htm">@intval</a><br><a href="..\users\Splash.htm">@Splash</a><br>1. הבנתי מאוד מה זה Middleware ואפילו התנסיתי להכין אחד בעצמי, כזה שבודק בכל route באיזה שפה הדפדפן שלי ומשנה את הLang (בנתיים יש רק he וen) ובהתאם גם את הdir בתגית body( גם מותאם רק לhe או ל en). אולי אני אייעל את זה בכך שאבדוק אם הסשן dir קיים ורק אם הוא לא קיים יבצע את כל הפרוצדורה.<br><br>2. אני חושב שבנושא הזה אני פשוט אקרא את הדוק&apos; ואנסה לבדוק איך אני מיישם ואיך זה עוזר לי , בלי יותר מדי חפירה. <br>3. container זה בעצם הפונקציה app() הזו שמכילה כל מיני עזרים וכאלה ? אני לא כל כך הבנתי מה זה ובמה זה עוזר, ואיך ומתי אני אמור להשתמש בזה. אותו דבר גם לproviders. הבנתי שאלו פעולות מסויימות שאפשר לשלוח לביצוע שם, מעין מרכז בקרה כזה(אם הבנתי נכון),אבל אלו פעולות מבצעים שם ? ואיך ?<br><br>4. facede הבנתי שזוהי מחלקה נגיד auth שהורשת לה facede ועכשיו אפשר להשתמש בה כסטטית. ככה זה עובד עם auth לדוגמה(אם זה מה שהבנתי). contracts זה בשביל אינטרפייסים, לא יודע אם יצא לי לכתוב כאלה בלארוול, אבל אם יצא איפה לכתוב אותם ? או שבעצם לא יצא לי?<br><br>5. לא התכוונתי לשנות את הקוד מקור, בתיקיה vendor אני נוגע רק כדי לראות איך הדברים פועלים או אם יש לי משהו קטן שאני רוצה לבדוק מה תלוי במה, ואז אני משנה משהו קטן אבל מיד מחזיר. כל שאר השינויים רק בתיקיות הרגילות. והתכוונתי אם אפשר להחליף את הAuthConroller וכל זה. אבל זה כבר פחות רלוונטי כרגע.<br><br>6. את המודלים לארוול שמה בתיקיה app, ואני יצרתי תיקיה Models בתוך app ושיניתי איפה שצריך בהתאם. אז חשבתי אולי ליצור כזו גם לtratis.<br><br>7. סבבה הבנתי :)<br><br>8. אז job וevents בעצם חופפים ומשתמשים בהם יחד ?<br><br>9. כן זה בדרך כלל שגיאות של נקודה או גרשיים, לשגיאות בקוד יש שגיאה מפורטת. ואיך יודעים אם הלוג גדול מדי? ומה עושים במקרה כזה ?<br><br>-- ועוד שאלה שיצאה לי בפיתוח<br>למה Session::put(&apos;a&apos;,&apos;b&apos;); לא עובד, אבל app(&apos;session)-&gt;set(&apos;a&apos;,&apos;b&apos;) כן עובד ? מה ההבדל ? הרי זה אמור לעשות את אותה הפעולה. </p>
</div>
</section>
</section>  
<section id="sidebar">
<section id="search_box">
<form method="get" action="http://www.google.co.il/search" id="search_form">
<input type="hidden" name="hl" value="iw">
<input type="checkbox" name="sitesearch" style="display:none" value="http://phpguide.co.il" checked="">
<input type="text" class="search_form" placeholder="חיפוש" name="q" id="search_field">
<input type="submit" value="" title="לחפש">
</form>
</section>
<style>.staticSidebarPageLinks a{color:#e85a2d;font-weight:bold;text-decoration:underline}</style>
<div class='rblock staticSidebarPageLinks' style="padding:0 -50px; width:100%; background: white;">
<a href="page_mvcebook.html" title="למד איך עובד MVC" onclick="Analytics.track('Promotion', 'click', 'GoToLanding', 'mvcebook-sidebar-banner1');">
ספר חינם על MVC
</a>
שאתה הולך להוריד כי אם אתה רוצה ללמוד על ארגון קוד יעיל ומודרני באתרים כמו זה או פייסבוק או כי כולם אוהבים להוריד דברים איכותיים בחינם מהאינטרנט
<br><br>
<a href='page_oopbook.html'>
ספר הלימוד - תכנות מונחה עצמים מאפס
</a>
שסוף סוף ילמד אותך פיתוח מונחה עצמים נכון בצורה פשוטה, יענה על כל השאלות ויכין אותך לרעיונות עבודה.
<br><br>
<a href='page_phpunit.html'>
קורס בדיקות יחידה phpunit
</a>
שיעזור לך להקטין בחצי את כמות הבאגים, את כאב הראש והזמן המבוזבז על פתירתם
<br><br>
<a href='page_mysqlinteractive.html'>
קורס mysql אינטרקטיבי
</a>
שיייקח אותך צעד אחר צעד למומחה שאילתות mysql לייב
<br><br><br>
<small>האתר ב-readonly
<br>
תודה לכל מי שתרם, ענה, שאל, כתב, לימד ועזר במשך השנים <br>
orelbey, splash, raslin, cayce, iiddaannyy, michael, kingyes, ilikeme, itamarhadad, iosolidar, jbstyle<br>
- alex@הדומיין הזה
</small>
</div>
</section>
</div>
<footer id='footer'>
</footer>
</div>  
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-resource.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-cookies.min.js"></script>
<script type="text/javascript" src="..\assets\c2224fc8\jquery.min.js.pagespeed.jm.0IhQ85x_cu.js"></script>
<script src="..\static\scripts\scripts.compiled.js plugins.js ui.js analytics.js.pagespeed.jc.HoDAx8MSoV.js"></script><script>eval(mod_pagespeed_suqc1br1Uj);</script>
<script>eval(mod_pagespeed_tNeKvp6lmR);</script>
<script>eval(mod_pagespeed_PxPJYmoXjB);</script>
<script>eval(mod_pagespeed_2G0hMgPcln);</script>
</body>
</html>
