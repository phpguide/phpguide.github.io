<!DOCTYPE html>
<html lang="he" itemscope="" itemtype="http://schema.org/Blog" ng-app="phpg">
<head>
<base href="https://phpguide.co.il/">
<meta charset="utf-8">
<meta name="description" content="שאלה כפיית טיפוסי ערכים במודל DTO">
<meta name="keywords" content="שאלה, עזרה">
<meta name="author" content="OrelBeY">
<link rel="shortcut icon" href="..\static\images\favicon-1.ico">
<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="stylesheet" type="text/css" href="..\static\styles\allstyles.compiled.css">
<title>כפיית טיפוסי ערכים במודל DTO | שאלת לימוד PHP</title>
<meta itemprop="name" content="כפיית טיפוסי ערכים במודל DTO | שאלת לימוד PHP">
<meta itemprop="description" content="שאלה כפיית טיפוסי ערכים במודל DTO">
</head>
<body dir='rtl' class="forum-qna">
<div class='page-container'>
<section id='header'>
<div class="topRowHolder">
<a class="logo" href="..\index-3.htm"><img src="..\static\images\logo.jpg"></a>
<nav class="main">
<ul>
<li><a href="..\index-3.htm">פוסטים</a></li>
<li><a href="..\qna-1.htm" class="active">פורום</a></li>
</ul>
<div class="clear"></div>
</nav> <div class="clear"></div>
</div>
</section>  
<div class="layout-holder">
<section id="content">
<div class="qna_view_question" id="qnaQuestionHolder">
<div class="qna-home-row">
<div class="counts">
 
<div class="status  answered">
<div class="item-count">4</div>
<div>
תגובות
</div>
</div>
</div>
<div class="question-summary-wrapper">
<h2><a href="כפיית טיפוסי ערכים במודל DTO-1.htm" title="יש לי מודלים של נתונים בלבד, ואני רוצה לשמור אותם ככה. מחלקות אחרות ינהלו דברים שונים בהם (BO, ריפוזיטורי).אני מגדיר בהם Getters ו-Setters, ונתקעתי בנושא של כפיית טיפוסי הערכים. כשמישהו משנה ערכים, יהיו במערך נפרד, ואז שני דברים יקרו, בניגוד לתיעוד:1. Setter מקבל למעשה טיפוס אחר מהמוגדר.2. Getter יוכל להחזיר גם ערכים חדשים (אם הדגל יהיה מוגדר), והוא יוכל להחזיר כל ערך. הפתרון (רק לזה) הלא מקובל עליי יהיה לכתוב אוסף Getters מיוחד לערכים שהשתנו עם תיעוד mixed.אני חושב">כפיית טיפוסי ערכים במודל DTO</a></h2>
<div class="userinfo">
פתח
<a>OrelBeY</a>
,
<time class="timeago relativetime" datetime="2015-01-08T14:16:51+02:00" style="display:inline-block;">
08 לינואר 2015 </time>
</div>
</div>
</div> <div class="clear"></div>
<div style="border-top:1px dashed #D1D1D1; margin-top:10px; padding-top:10px; " class="qnapost" id='questionText2100'>
יש לי מודלים של נתונים בלבד, ואני רוצה לשמור אותם ככה. מחלקות אחרות ינהלו דברים שונים בהם (BO, ריפוזיטורי).<br>אני מגדיר בהם Getters ו-Setters, ונתקעתי בנושא של כפיית טיפוסי הערכים. כשמישהו משנה ערכים, יהיו במערך נפרד, ואז שני דברים יקרו, בניגוד לתיעוד:<br>1. Setter מקבל למעשה טיפוס אחר מהמוגדר.<br>2. Getter יוכל להחזיר גם ערכים חדשים (אם הדגל יהיה מוגדר), והוא יוכל להחזיר כל ערך. הפתרון (רק לזה) הלא מקובל עליי יהיה לכתוב אוסף Getters מיוחד לערכים שהשתנו עם תיעוד mixed.<br><br>אני חושב שכדאי שהוולידציה תהיה בריפוזיטורי, אבל זה יגרום לסתירה בין התיעוד לזמן הריצה. מה עושים? </div>
</div>
<h3>
<span id="answersCounter">4 </span>
תשובות
</h3>
<section class="answers" id="qnaAnswers">
<div class="answer" id="answer9264">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/29c688bfdc6cb0d2e6dea24ccdc7beb1?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>intval</a>
ב
<span style="font-size:10px"> 10 לינואר 2015 </span>
<a id="answer_9264" href="כפיית טיפוסי ערכים במודל DTO-1.htm#answer_9264">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אם אתה לא רוצה שמישהו יכניס משהו לא נכון לתוך המודל, הגטרים, והסטרים צריכים להיות בתוך המודל. אופציה נוספת היא לעבור ל hack שמסוגל לכפות גם טיפוסים פרימיטיביים, אבל זה שינוי די משמעוטי </p>
</div>
<div class="answer" id="answer9265">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/29c688bfdc6cb0d2e6dea24ccdc7beb1?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>intval</a>
ב
<span style="font-size:10px"> 10 לינואר 2015 </span>
<a id="answer_9265" href="כפיית טיפוסי ערכים במודל DTO-1.htm#answer_9265">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אופציה נוספת היא לעשות מודלים שלא ניתנים לשינוי, כלומר מאפיינים פרטיים וסטרים ריקים ובמקום זה להשתמש בפקטורי שיהיה אחראי על יצירה או שכפול+שינוי של מודל קיים. כלומר אם אתה רוצה לשנות משהו במופע א׳ אתה משתמש במחלקה אחרת שמשכפלת את א׳, עושה וליגציה לערכים החדשים, משנה אותם אצל ההעתק ומחזירה.<br><br>לא אידאלי במיוחד.<br>בגלל ש PHP לא מסוגלת לעשות את הולידציה בעצמה, אתה תצטרך לעשות את זה בעצמך איפשהו. או במודל או מחוץ לא..<br>(או להחליף שפה) </p>
</div>
<div class="answer" id="answer9268">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 10 לינואר 2015 </span>
<a id="answer_9268" href="כפיית טיפוסי ערכים במודל DTO-1.htm#answer_9268">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אז בעצם הפתרון הטוב יותר הוא לשלב את זה במודל עצמו? ואם רוצים עוד גמישות (לשימוש חוזר), לעשות דלגציה לאובייקט UserTypeEnforcerInterface, או אולי טוב יותר - למערך הגדרות טיפוסים, שיטופל על ידי אובייקט TypeEnforcerIntarface כללי. </p>
</div>
<div class="answer" id="answer9269">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/29c688bfdc6cb0d2e6dea24ccdc7beb1?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>intval</a>
ב
<span style="font-size:10px"> 10 לינואר 2015 </span>
<a id="answer_9269" href="כפיית טיפוסי ערכים במודל DTO-1.htm#answer_9269">#</a>
</span>
<div class="clear"></div>
</div>
<p>
מערך הגדרת טיפוסים זה סיבוך מיותר שצריך לשמור מעודכן במהלך הפיתוח. כנל לגבי הtypeEnforcer.<br>הדרך הכי קלה היא להכניס את זה למודל, וככה תקתין את כמות המקומות שדורשים שינוי במהלך הפיתוח. </p>
</div>
</section>
</section>  
<section id="sidebar">
<section id="search_box">
<form method="get" action="http://www.google.co.il/search" id="search_form">
<input type="hidden" name="hl" value="iw">
<input type="checkbox" name="sitesearch" style="display:none" value="https://phpguide.co.il" checked="">
<input type="text" class="search_form" placeholder="חיפוש" name="q" id="search_field">
<input type="submit" value="" title="לחפש">
</form>
</section>
<style>.staticSidebarPageLinks a{color:#e85a2d;font-weight:bold;text-decoration:underline}</style>
<div class='rblock staticSidebarPageLinks' style="padding:0 -50px; width:100%; background: white;">
<a href="page_mvcebook.html" title="למד איך עובד MVC" onclick="Analytics.track('Promotion', 'click', 'GoToLanding', 'mvcebook-sidebar-banner1');">
ספר חינם על MVC
</a>
שאתה הולך להוריד כי אם אתה רוצה ללמוד על ארגון קוד יעיל ומודרני באתרים כמו זה או פייסבוק או כי כולם אוהבים להוריד דברים איכותיים בחינם מהאינטרנט
<br><br>
<a href='page_oopbook.html'>
ספר הלימוד - תכנות מונחה עצמים מאפס
</a>
שסוף סוף ילמד אותך פיתוח מונחה עצמים נכון בצורה פשוטה, יענה על כל השאלות ויכין אותך לרעיונות עבודה.
<br><br>
<a href='page_phpunit.html'>
קורס בדיקות יחידה phpunit
</a>
שיעזור לך להקטין בחצי את כמות הבאגים, את כאב הראש והזמן המבוזבז על פתירתם
<br><br>
<a href='page_mysqlinteractive.html'>
קורס mysql אינטרקטיבי
</a>
שיייקח אותך צעד אחר צעד למומחה שאילתות mysql לייב
<br><br><br>
<small>האתר ב-readonly
<br>
תודה לכל מי שתרם, ענה, שאל, כתב, לימד ועזר במשך השנים <br>
orelbey, splash, raslin, cayce, iiddaannyy, michael, kingyes, ilikeme, itamarhadad, iosolidar, jbstyle<br>
- alex@הדומיין הזה
</small>
</div>
</section>
</div>
<footer id='footer'>
</footer>
</div>  
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-resource.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-cookies.min.js"></script>
<script type="text/javascript" src="..\assets\c2224fc8\jquery.min.js"></script>
<script type="text/javascript" src="..\static\scripts\scripts.compiled.js"></script>
<script type="text/javascript" src="..\static\scripts\plugins.js"></script>
<script type="text/javascript" src="..\static\scripts\ui.js"></script>
<script type="text/javascript" src="..\static\scripts\analytics.js"></script>
</body>
</html>
