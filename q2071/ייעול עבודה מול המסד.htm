<!DOCTYPE html>
<html lang="he" itemscope="" itemtype="http://schema.org/Blog" ng-app="phpg">
<head>
<base href="http://phpguide.co.il/">
<meta charset="utf-8">
<meta name="description" content="שאלה ייעול עבודה מול המסד">
<meta name="keywords" content="שאלה, עזרה">
<meta name="author" content="Ben">
<link rel="shortcut icon" href="..\static\images\favicon.ico">
<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="stylesheet" type="text/css" href="..\static\styles\A.allstyles.compiled.css.pagespeed.cf.P4R8BwzxFu.css">
<title>ייעול עבודה מול המסד | שאלת לימוד PHP</title>
<meta itemprop="name" content="ייעול עבודה מול המסד | שאלת לימוד PHP">
<meta itemprop="description" content="שאלה ייעול עבודה מול המסד">
</head>
<body dir='rtl' class="forum-qna">
<div class='page-container'>
<section id='header'>
<div class="topRowHolder">
<a class="logo" href="..\index.htm"><img src="..\static\images\xlogo.jpg.pagespeed.ic.6YgiLES4FJ.jpg"></a>
<nav class="main">
<ul>
<li><a href="..\index.htm">פוסטים</a></li>
<li><a href="..\qna.htm" class="active">פורום</a></li>
</ul>
<div class="clear"></div>
</nav> <div class="clear"></div>
</div>
</section>  
<div class="layout-holder">
<section id="content">
<div class="qna_view_question" id="qnaQuestionHolder">
<div class="qna-home-row">
<div class="counts">
 
<div class="status  answered">
<div class="item-count">14</div>
<div>
תגובות
</div>
</div>
</div>
<div class="question-summary-wrapper">
<h2><a href="ייעול עבודה מול המסד.htm" title="היי.במערכת שלי בכל כניסה לאתר אני בודק האם המשתמש האייפי של המשתמש קיים במערכת ( מול המסד ) במידה וכן הגלישה ממשיכה, במידה ולא אני מוסיף את האייפי לתוך קובץ טקסט.כעת יש 15 אלף שורות במסד, אני בכוונה עושה את זה בצורה כזאת, האם יש דרך לייעל את הדבר הזה ?">ייעול עבודה מול המסד</a></h2>
<div class="userinfo">
פתח
<a>Ben</a>
,
<time class="timeago relativetime" datetime="2014-11-24T11:47:25+02:00" style="display:inline-block;">
24 לנובמבר 2014 </time>
</div>
</div>
</div> <div class="clear"></div>
<div style="border-top:1px dashed #D1D1D1; margin-top:10px; padding-top:10px; " class="qnapost" id='questionText2071'>
היי.<br>במערכת שלי בכל כניסה לאתר אני בודק האם המשתמש האייפי של המשתמש קיים במערכת ( מול המסד ) במידה וכן הגלישה ממשיכה, במידה ולא אני מוסיף את האייפי לתוך קובץ טקסט.<br><br>כעת יש 15 אלף שורות במסד, אני בכוונה עושה את זה בצורה כזאת, האם יש דרך לייעל את הדבר הזה ? </div>
</div>
<h3>
<span id="answersCounter">14 </span>
תשובות
</h3>
<section class="answers" id="qnaAnswers">
<div class="answer" id="answer9206">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/dfd75d4711d5ce92bee5293dcad70f9a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Ben</a>
ב
<span style="font-size:10px"> 28 לנובמבר 2014 </span>
<a id="answer_9206" href="ייעול עבודה מול המסד.htm#answer_9206">#</a>
</span>
<div class="clear"></div>
</div>
<p>
עזרה? </p>
</div>
<div class="answer" id="answer9207">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/f032a456f986ab5afe0da9fd5706f3c3?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Splash</a>
ב
<span style="font-size:10px"> 29 לנובמבר 2014 </span>
<a id="answer_9207" href="ייעול עבודה מול המסד.htm#answer_9207">#</a>
</span>
<div class="clear"></div>
</div>
<p>
מה המטרה של הקובץ טקסט ? מה המטרה של האייפי ? תסביר יותר על מה אתה מדבר ויהיה אפשר להפנות אותך לפתרון רלוונטי. </p>
</div>
<div class="answer" id="answer9209">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/dfd75d4711d5ce92bee5293dcad70f9a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Ben</a>
ב
<span style="font-size:10px"> 29 לנובמבר 2014 </span>
<a id="answer_9209" href="ייעול עבודה מול המסד.htm#answer_9209">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אדגים לך בצורה אחרת.<br>יש לי אתר של שירים, לכל שיר יש מזהה משלו.<br>כאשר המשתמש נכנס לעמוד של שיר מסויים, אני בודק אם האיידי (המזהה) של השיר נמצא במסד, אם כן אני מפנה אותו לאתר מסויים. אם לא אני מכניס את האיידי של השיר לsitemap. <br>אני משתמש במסד כדי לדעת מה קיים בקובץ ומה לא על מנת שלא יהיו כפילויות של מזהים בקובץ שלי. עכשיו הקובץ הגיע ל 16 אלף שורות וכך גם המסד, כל בדיקה לוקחת זמן. יש דרך לייעל את הדבר הזה?<br><br>התאכלס זה הקובץ טקסט, המסד סה&quot;כ משמש אותי לבקרה על מנת לא להכניס פעמיים את אותו המזהה </p>
</div>
<div class="answer" id="answer9210">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/f032a456f986ab5afe0da9fd5706f3c3?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Splash</a>
ב
<span style="font-size:10px"> 29 לנובמבר 2014 </span>
<a id="answer_9210" href="ייעול עבודה מול המסד.htm#answer_9210">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אתה צריך את זה בשביל ליצור sitemap ? </p>
</div>
<div class="answer" id="answer9211">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/dfd75d4711d5ce92bee5293dcad70f9a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Ben</a>
ב
<span style="font-size:10px"> 30 לנובמבר 2014 </span>
<a id="answer_9211" href="ייעול עבודה מול המסד.htm#answer_9211">#</a>
</span>
<div class="clear"></div>
</div>
<p>
לא. אני צריך את זה בשביל לעדכן כל פעם את ה sitemap במזהה חדש.<br>וכדי לא להוסיף את המזהה בכל פעם שגולש נכנס, אני בודק בכל כניסה אם המזהה קיים במסד, אם כן אני לא מוסיף, אחרת אני כן מוסיף.<br>העובדה שאני מוסיף אומרת שאף גולש אחר לא נכנס לאותו דף עם המזהה הספציפי. אם אני לא מוסיף ז&quot;א שגולש כלשהו בעבר כן נכנס לדף הזה עם המזהה הזה. </p>
</div>
<div class="answer" id="answer9223">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 07 לדצמבר 2014 </span>
<a id="answer_9223" href="ייעול עבודה מול המסד.htm#answer_9223">#</a>
</span>
<div class="clear"></div>
</div>
<p>
מרפרוף קל - למה קובץ טקסט? אם במסד - פשוט תגדיר את זה כ-Primary Key. </p>
</div>
<div class="answer" id="answer9226">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/dfd75d4711d5ce92bee5293dcad70f9a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Ben</a>
ב
<span style="font-size:10px"> 07 לדצמבר 2014 </span>
<a id="answer_9226" href="ייעול עבודה מול המסד.htm#answer_9226">#</a>
</span>
<div class="clear"></div>
</div>
<p>
קובץ טקסט הכוונה ל XML -&gt; עידכון ה SITEMAP.. </p>
</div>
<div class="answer" id="answer9227">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 07 לדצמבר 2014 </span>
<a id="answer_9227" href="ייעול עבודה מול המסד.htm#answer_9227">#</a>
</span>
<div class="clear"></div>
</div>
<p>
תצבור עדכונים למפת האתר ותעדכן אותה כל דקה מקסימום. </p>
</div>
<div class="answer" id="answer9228">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/dfd75d4711d5ce92bee5293dcad70f9a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Ben</a>
ב
<span style="font-size:10px"> 07 לדצמבר 2014 </span>
<a id="answer_9228" href="ייעול עבודה מול המסד.htm#answer_9228">#</a>
</span>
<div class="clear"></div>
</div>
<p>
וחוץ מזה? מה אפשרי עוד? </p>
</div>
<div class="answer" id="answer9229">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 07 לדצמבר 2014 </span>
<a id="answer_9229" href="ייעול עבודה מול המסד.htm#answer_9229">#</a>
</span>
<div class="clear"></div>
</div>
<p>
מה עוד יכול להיות אפשרי? אם זה מתעדכן בקצב מהיר, ולא מספר דפים כל מספר ימים, צריכה להיות פעולת עדכון אוטומטית. אי אפשר לעדכן את זה 100 פעמים בשנייה, וגם לא כדאי שזה יהיה 100 פעמים בדקה, בשעה, ואפילו ביום.<br><br>אגב, קרא את <a href="https://support.google.com/webmasters/topic/4581190">ההנחיות של Google</a>. (בין השאר שכל קובץ מפה לא יכיל יותר מ-50,000 רשומות ושלא ישקול יותר מ-50MB.) </p>
</div>
<div class="answer" id="answer9230">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/dfd75d4711d5ce92bee5293dcad70f9a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Ben</a>
ב
<span style="font-size:10px"> 07 לדצמבר 2014 </span>
<a id="answer_9230" href="ייעול עבודה מול המסד.htm#answer_9230">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אוקי.<br>איך אתה מציע לבצע דבר כזה?<br>איך אני מבצע את התהליך של השמירת עדכונים ועדכונם פעם ביום בשעה 4 בבוקר לדוגמא? (בכוונה שעה שאין כמעט גולשים באתר שלא יתקע..)<br>אשמח לכיוון והסבר כללי וטוב :) </p>
</div>
<div class="answer" id="answer9231">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 07 לדצמבר 2014 </span>
<a id="answer_9231" href="ייעול עבודה מול המסד.htm#answer_9231">#</a>
</span>
<div class="clear"></div>
</div>
<p>
מהתיאור שלך, אפשר להוסיף עמודה בוליאנית in_sitemap לטבלת השירים, לשים עליה אינדקס, ולפעול לפי זה פעם ביום (באמצעות Cron Job).<br><br>כשהמערכת הזאת תגדל יותר, יהיה עדיף להשקיע ברכיב עדכון Sitemap. ברגע שיש לך כמה סוגי תוכן, ולא רק שירים, יהיה אפשר שכל רכיב ירשום פעולת עדכון לעצמו ברכיב העדכון הזה, והוא ינהל את כולן פעם ביום. </p>
</div>
<div class="answer" id="answer9240">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/dfd75d4711d5ce92bee5293dcad70f9a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>Ben</a>
ב
<span style="font-size:10px"> 10 לדצמבר 2014 </span>
<a id="answer_9240" href="ייעול עבודה מול המסד.htm#answer_9240">#</a>
</span>
<div class="clear"></div>
</div>
<p>
תודה. במידה ואין לי אפשרות לגשת לCron Job , ישנה דרך חלופית ? כל דרך אחרת אשמח לשמוע.. <br>* אני יכול לגשת אליו אבל אשמח לדעת דרכים אחרות במידה ולא יהיה לי בעתיד בסיטואציות אחרות.. </p>
</div>
<div class="answer" id="answer9251">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 19 לדצמבר 2014 </span>
<a id="answer_9251" href="ייעול עבודה מול המסד.htm#answer_9251">#</a>
</span>
<div class="clear"></div>
</div>
<p>
עקרונית זה אפשרי לבדוק בסוף כל בקשה לאתר אם יש צורך בעדכון, ואם כן - לשלוח את התוצאה למשתמש ולתת לסקריפט להמשיך לרוץ ולעדכן. (אני לא בדיוק יודע איך לעשות את זה, אבל זה אפשרי.) </p>
</div>
</section>
</section>  
<section id="sidebar">
<section id="search_box">
<form method="get" action="http://www.google.co.il/search" id="search_form">
<input type="hidden" name="hl" value="iw">
<input type="checkbox" name="sitesearch" style="display:none" value="http://phpguide.co.il" checked="">
<input type="text" class="search_form" placeholder="חיפוש" name="q" id="search_field">
<input type="submit" value="" title="לחפש">
</form>
</section>
<style>.staticSidebarPageLinks a{color:#e85a2d;font-weight:bold;text-decoration:underline}</style>
<div class='rblock staticSidebarPageLinks' style="padding:0 -50px; width:100%; background: white;">
<a href="page_mvcebook.html" title="למד איך עובד MVC" onclick="Analytics.track('Promotion', 'click', 'GoToLanding', 'mvcebook-sidebar-banner1');">
ספר חינם על MVC
</a>
שאתה הולך להוריד כי אם אתה רוצה ללמוד על ארגון קוד יעיל ומודרני באתרים כמו זה או פייסבוק או כי כולם אוהבים להוריד דברים איכותיים בחינם מהאינטרנט
<br><br>
<a href='page_oopbook.html'>
ספר הלימוד - תכנות מונחה עצמים מאפס
</a>
שסוף סוף ילמד אותך פיתוח מונחה עצמים נכון בצורה פשוטה, יענה על כל השאלות ויכין אותך לרעיונות עבודה.
<br><br>
<a href='page_phpunit.html'>
קורס בדיקות יחידה phpunit
</a>
שיעזור לך להקטין בחצי את כמות הבאגים, את כאב הראש והזמן המבוזבז על פתירתם
<br><br>
<a href='page_mysqlinteractive.html'>
קורס mysql אינטרקטיבי
</a>
שיייקח אותך צעד אחר צעד למומחה שאילתות mysql לייב
<br><br><br>
<small>האתר ב-readonly
<br>
תודה לכל מי שתרם, ענה, שאל, כתב, לימד ועזר במשך השנים <br>
orelbey, splash, raslin, cayce, iiddaannyy, michael, kingyes, ilikeme, itamarhadad, iosolidar, jbstyle<br>
- alex@הדומיין הזה
</small>
</div>
</section>
</div>
<footer id='footer'>
</footer>
</div>  
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-resource.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-cookies.min.js"></script>
<script type="text/javascript" src="..\assets\c2224fc8\jquery.min.js.pagespeed.jm.0IhQ85x_cu.js"></script>
<script src="..\static\scripts\scripts.compiled.js plugins.js ui.js analytics.js.pagespeed.jc.HoDAx8MSoV.js"></script><script>eval(mod_pagespeed_suqc1br1Uj);</script>
<script>eval(mod_pagespeed_tNeKvp6lmR);</script>
<script>eval(mod_pagespeed_PxPJYmoXjB);</script>
<script>eval(mod_pagespeed_2G0hMgPcln);</script>
</body>
</html>
