<!DOCTYPE html>
<html lang="he" itemscope="" itemtype="http://schema.org/Blog" ng-app="phpg">
<head>
<base href="http://phpguide.co.il/">
<meta charset="utf-8">
<meta name="description" content="שאלה JS | הצפנה זהה לPHP">
<meta name="keywords" content="שאלה, עזרה">
<meta name="author" content="shlomo120">
<link rel="shortcut icon" href="..\static\images\favicon.ico">
<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="stylesheet" type="text/css" href="..\static\styles\A.allstyles.compiled.css.pagespeed.cf.P4R8BwzxFu.css">
<title>JS | הצפנה זהה לPHP | שאלת לימוד PHP</title>
<meta itemprop="name" content="JS | הצפנה זהה לPHP | שאלת לימוד PHP">
<meta itemprop="description" content="שאלה JS | הצפנה זהה לPHP">
</head>
<body dir='rtl' class="forum-qna">
<div class='page-container'>
<section id='header'>
<div class="topRowHolder">
<a class="logo" href="..\index.htm"><img src="..\static\images\xlogo.jpg.pagespeed.ic.6YgiLES4FJ.jpg"></a>
<nav class="main">
<ul>
<li><a href="..\index.htm">פוסטים</a></li>
<li><a href="..\qna.htm" class="active">פורום</a></li>
</ul>
<div class="clear"></div>
</nav> <div class="clear"></div>
</div>
</section>  
<div class="layout-holder">
<section id="content">
<div class="qna_view_question" id="qnaQuestionHolder">
<div class="qna-home-row">
<div class="counts">
 
<div class="status  answered">
<div class="item-count">7</div>
<div>
תגובות
</div>
</div>
</div>
<div class="question-summary-wrapper">
<h2><a href="JS  הצפנה זהה לPHP.htm" title="אהלן . אני בונה עכשיו מערכת העלאת תמונות אבל בAJAX כלומר הJS מטפל בהצגה של השם של התמונה , גודל וכו&amp;#039;אני רוצה להציג קישור לתמונה - הקטע הוא שהקישור צריך להיות יחודי כלומר או הצפנה או זמן (date) .האם יש פונקצייה בPHP שמצפינה שיש אותה גם בJS ? כדי שהקישור לתמונה יהיה זהה לפרטים במסד וכו . חיפשתי באינטרנט ומצאתי כל מיני דברים אבל הם לא עבדו .. (md5 &amp;#039; base64)">JS | הצפנה זהה לPHP</a></h2>
<div class="userinfo">
פתח
<a>shlomo120</a>
,
<time class="timeago relativetime" datetime="2012-06-26T15:23:32+03:00" style="display:inline-block;">
26 ליוני 2012 </time>
</div>
</div>
</div> <div class="clear"></div>
<div style="border-top:1px dashed #D1D1D1; margin-top:10px; padding-top:10px; " class="qnapost" id='questionText716'>
אהלן . <br>אני בונה עכשיו מערכת העלאת תמונות אבל בAJAX כלומר הJS מטפל בהצגה של השם של התמונה , גודל וכו&#039;<br><br>אני רוצה להציג קישור לתמונה - הקטע הוא שהקישור צריך להיות יחודי כלומר או הצפנה או זמן (date) .<br><br>האם יש פונקצייה בPHP שמצפינה שיש אותה גם בJS ? <br>כדי שהקישור לתמונה יהיה זהה לפרטים במסד וכו . <br><br><br>חיפשתי באינטרנט ומצאתי כל מיני דברים אבל הם לא עבדו .. (md5 &#039; base64) </div>
</div>
<h3>
<span id="answersCounter">7 </span>
תשובות
</h3>
<section class="answers" id="qnaAnswers">
<div class="answer" id="answer3038">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=20&amp;r=g&amp;d=mm" alt="avatar"> ענה
<a>iiddaannyy</a>
ב
<span style="font-size:10px"> 26 ליוני 2012 </span>
<a id="answer_3038" href="JS  הצפנה זהה לPHP.htm#answer_3038">#</a>
</span>
<div class="clear"></div>
</div>
<p>
או להשתמש בחותמת זמן (מספר השניות מאז 1970) או לקבל עם ajax את הקישור הייחודי. </p>
</div>
<div class="answer" id="answer3039">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/29c688bfdc6cb0d2e6dea24ccdc7beb1?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>intval</a>
ב
<span style="font-size:10px"> 26 ליוני 2012 </span>
<a id="answer_3039" href="JS  הצפנה זהה לPHP.htm#answer_3039">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אני לא ממש מבין את הקשו של ajax לנושא בחירת השם.<br>אתה נותן ללקוח לבחור את שם הקובץ? ומה אם הלקוח בוחר שם שכבר קיים בשרת? או מה עם הזמן של הלקוח שונה מהזמן של השרת ? בזמן העלאה השרת יקרא לקובץ בשם כלשהו וזהו. </p>
</div>
<div class="answer" id="answer3049">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/de357e71ee8c0f7547a9d3f1fb57e5c4?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>shlomo120</a>
ב
<span style="font-size:10px"> 27 ליוני 2012 </span>
<a id="answer_3049" href="JS  הצפנה זהה לPHP.htm#answer_3049">#</a>
</span>
<div class="clear"></div>
</div>
<p>
בJS יש אפשרות לשים עוגיה נכון ? אז אני עושה עוגיה עם הזמן וככה הPHP מקבל את העוגיה ומכניס אותה למסד . <br>וזה יהיה השם של הקובץ . <br><br>האם יש הצפנה בJS (כלומר MD5 , BASE64 וזה לא ממש משנה) שזהה לPHP ? </p>
</div>
<div class="answer" id="answer3050">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/577835562fa9e54ea5f73adf6b887062?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>login_sucks</a>
ב
<span style="font-size:10px"> 27 ליוני 2012 </span>
<a id="answer_3050" href="JS  הצפנה זהה לPHP.htm#answer_3050">#</a>
</span>
<div class="clear"></div>
</div>
<p>
זה בעיית אבטחה מאוד רצינית! אסור בשום פנים ואופן לסמוך על מידע שמגיע מהמשתמש (עוגיות זה מידע שאין לך שליטה עליו). המערכת שלך תהיה גם פגיעה ל-SQL Injection וגם למתקפות שקשורות למערכת הקבצים. איך עובד אלגוריתם העלאת הקבצים שלך?<br><br>- iosolidar </p>
</div>
<div class="answer" id="answer3051">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/fbd8d166d60e03c5854fe7114279a94f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>cthulhu</a>
ב
<span style="font-size:10px"> 27 ליוני 2012 </span>
<a id="answer_3051" href="JS  הצפנה זהה לPHP.htm#answer_3051">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אין פונקצייה מובנת, אבל תמיד אפשר לכתוב אחת משלך על פי האלגוריתם או למצוא בגוגל. </p>
</div>
<div class="answer" id="answer3052">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/de357e71ee8c0f7547a9d3f1fb57e5c4?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>shlomo120</a>
ב
<span style="font-size:10px"> 27 ליוני 2012 </span>
<a id="answer_3052" href="JS  הצפנה זהה לPHP.htm#answer_3052">#</a>
</span>
<div class="clear"></div>
</div>
<p>
יש פה גם חלק שאם אתה גורר את הקובץ מעל איזור מסויים זה מעלה אותו גם ....<br><br>זה הקוד JS שלי ... <br><br><div class="php codeblock"><span class="br0">&#40;</span><span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
<br>
&nbsp; &nbsp; <span class="kw2">var</span> <span class="kw3">dir</span> <span class="sy0">=</span> <span class="st0">&quot;upload/&quot;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="kw2">var</span> domain <span class="sy0">=</span> <span class="st0">&quot;http://localhost/ajax/upload/&quot;</span> <span class="sy0">;</span><br>
<br>
&nbsp; <span class="co1">// getElementById</span><br>
&nbsp; <span class="kw2">function</span> <span class="re0">$id</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; <span class="kw1">return</span> document<span class="sy0">.</span>getElementById<span class="br0">&#40;</span>id<span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; <span class="br0">&#125;</span><br>
<br>
<br>
&nbsp; <span class="co1">// output information</span><br>
&nbsp; <span class="kw2">function</span> Output<span class="br0">&#40;</span>msg<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; <span class="kw2">var</span> m <span class="sy0">=</span> <span class="re0">$id</span><span class="br0">&#40;</span><span class="st0">&quot;messages&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; m<span class="sy0">.</span>innerHTML <span class="sy0">=</span> msg <span class="sy0">+</span> m<span class="sy0">.</span>innerHTML<span class="sy0">;</span><br>
&nbsp; <span class="br0">&#125;</span><br>
<br>
<br>
&nbsp; <span class="co1">// file drag hover</span><br>
&nbsp; <span class="kw2">function</span> FileDragHover<span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; e<span class="sy0">.</span>stopPropagation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; e<span class="sy0">.</span>preventDefault<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; e<span class="sy0">.</span>target<span class="sy0">.</span>className <span class="sy0">=</span> <span class="br0">&#40;</span>e<span class="sy0">.</span>type <span class="sy0">==</span> <span class="st0">&quot;dragover&quot;</span> ? <span class="st0">&quot;hover&quot;</span> <span class="sy0">:</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; <span class="br0">&#125;</span><br>
<br>
<br>
&nbsp; <span class="co1">// file selection</span><br>
&nbsp; <span class="kw2">function</span> FileSelectHandler<span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">// cancel event and hover styling</span><br>
&nbsp; &nbsp; FileDragHover<span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">// fetch FileList object</span><br>
&nbsp; &nbsp; <span class="kw2">var</span> files <span class="sy0">=</span> e<span class="sy0">.</span>target<span class="sy0">.</span>files <span class="sy0">||</span> e<span class="sy0">.</span>dataTransfer<span class="sy0">.</span>files<span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">// process all File objects</span><br>
&nbsp; &nbsp; <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> f<span class="sy0">;</span> f <span class="sy0">=</span> files<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; ParseFile<span class="br0">&#40;</span>f<span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; UploadFile<span class="br0">&#40;</span>f<span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="br0">&#125;</span><br>
<br>
&nbsp; <span class="br0">&#125;</span><br>
<br>
<br>
&nbsp; <span class="co1">// output file information</span><br>
&nbsp; <span class="co1">//***************************HERE I NEED TO CREATE A NAME TO THE FILR TO SHOW IT TO THE USER************************************//</span><br>
&nbsp; <span class="kw2">function</span> ParseFile<span class="br0">&#40;</span><span class="kw3">file</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; <span class="kw2">var</span> size <span class="sy0">=</span> <span class="kw3">file</span><span class="sy0">.</span>size <span class="sy0">/</span><span class="nu0">131072</span><span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="kw2">var</span> mbsize <span class="sy0">=</span> Math<span class="sy0">.</span><span class="kw3">floor</span><span class="br0">&#40;</span>size<span class="sy0">*</span><span class="nu0">100</span><span class="br0">&#41;</span><span class="sy0">/</span><span class="nu0">100</span> <span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="kw2">var</span> <span class="kw3">link</span> <span class="sy0">=</span> domain <span class="sy0">+</span> <span class="kw3">dir</span> <span class="sy0">+</span> <span class="kw3">file</span><span class="sy0">.</span>name <span class="sy0">;</span><br>
&nbsp; &nbsp; Output<span class="br0">&#40;</span><br>
&nbsp; &nbsp; &nbsp; <span class="st0">&quot;&lt;p&gt;File information: &lt;strong&gt;&quot;</span> <span class="sy0">+</span> <span class="kw3">file</span><span class="sy0">.</span>name <span class="sy0">+</span><br>
&nbsp; &nbsp; &nbsp; <span class="st0">&quot;&lt;/strong&gt; type: &lt;strong&gt;&quot;</span> <span class="sy0">+</span> <span class="kw3">file</span><span class="sy0">.</span>type <span class="sy0">+</span><br>
&nbsp; &nbsp; &nbsp; <span class="st0">&quot;&lt;/strong&gt; size: &lt;strong&gt;&quot;</span> <span class="sy0">+</span> mbsize <span class="sy0">+</span><br>
&nbsp; &nbsp; &nbsp; <span class="st0">&quot;&lt;/strong&gt; MB&lt;/p&gt;&lt;p&gt;link: &lt;a href='&quot;</span> <span class="sy0">+</span> <span class="kw3">link</span> <span class="sy0">+</span><br>
&nbsp; &nbsp; &nbsp; <span class="st0">&quot;' alt=''&gt;&lt;strong&gt;&quot;</span> <span class="sy0">+</span> <span class="kw3">link</span> <span class="sy0">+</span><br>
&nbsp; &nbsp; &nbsp; <span class="st0">&quot;&lt;/strong&gt;&lt;/a&gt;&lt;br /&gt;&quot;</span><br>
<br>
&nbsp; &nbsp; <span class="br0">&#41;</span><span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">// display an image</span><br>
&nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw3">file</span><span class="sy0">.</span>type<span class="sy0">.</span>indexOf<span class="br0">&#40;</span><span class="st0">&quot;image&quot;</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; <span class="kw2">var</span> reader <span class="sy0">=</span> <span class="kw2">new</span> FileReader<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; reader<span class="sy0">.</span>onload <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; Output<span class="br0">&#40;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">&quot;&lt;p&gt;&lt;strong&gt;&quot;</span> <span class="sy0">+</span> <span class="kw3">file</span><span class="sy0">.</span>name <span class="sy0">+</span> <span class="st0">&quot;:&lt;/strong&gt;&lt;br /&gt;&quot;</span> <span class="sy0">+</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st_h">'&lt;img src=&quot;'</span> <span class="sy0">+</span> e<span class="sy0">.</span>target<span class="sy0">.</span>result <span class="sy0">+</span> <span class="st_h">'&quot; /&gt;&lt;/p&gt;'</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br>
&nbsp; &nbsp; &nbsp; reader<span class="sy0">.</span>readAsDataURL<span class="br0">&#40;</span><span class="kw3">file</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="br0">&#125;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">// display text</span><br>
&nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw3">file</span><span class="sy0">.</span>type<span class="sy0">.</span>indexOf<span class="br0">&#40;</span><span class="st0">&quot;text&quot;</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; <span class="kw2">var</span> reader <span class="sy0">=</span> <span class="kw2">new</span> FileReader<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; reader<span class="sy0">.</span>onload <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; Output<span class="br0">&#40;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">&quot;&lt;p&gt;&lt;strong&gt;&quot;</span> <span class="sy0">+</span> <span class="kw3">file</span><span class="sy0">.</span>name <span class="sy0">+</span> <span class="st0">&quot;:&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&quot;</span> <span class="sy0">+</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e<span class="sy0">.</span>target<span class="sy0">.</span>result<span class="sy0">.</span>replace<span class="br0">&#40;</span><span class="sy0">/&lt;/</span>g<span class="sy0">,</span> <span class="st0">&quot;&amp;lt;&quot;</span><span class="br0">&#41;</span><span class="sy0">.</span>replace<span class="br0">&#40;</span><span class="sy0">/&gt;/</span>g<span class="sy0">,</span> <span class="st0">&quot;&amp;gt;&quot;</span><span class="br0">&#41;</span> <span class="sy0">+</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">&quot;&lt;/pre&gt;&quot;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br>
&nbsp; &nbsp; &nbsp; reader<span class="sy0">.</span>readAsText<span class="br0">&#40;</span><span class="kw3">file</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="br0">&#125;</span><br>
<br>
&nbsp; <span class="br0">&#125;</span><br>
<br>
<br>
&nbsp; <span class="co1">// upload JPEG files</span><br>
&nbsp; <span class="kw2">function</span> UploadFile<span class="br0">&#40;</span><span class="kw3">file</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">// following line is not necessary: prevents running on SitePoint servers</span><br>
&nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>location<span class="sy0">.</span>host<span class="sy0">.</span>indexOf<span class="br0">&#40;</span><span class="st0">&quot;sitepointstatic&quot;</span><span class="br0">&#41;</span> <span class="sy0">&gt;=</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="kw1">return</span><br>
<br>
&nbsp; &nbsp; <span class="kw2">var</span> xhr <span class="sy0">=</span> <span class="kw2">new</span> XMLHttpRequest<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>xhr<span class="sy0">.</span>upload <span class="sy0">&amp;&amp;</span> <span class="kw3">file</span><span class="sy0">.</span>size <span class="sy0">&lt;=</span> <span class="re0">$id</span><span class="br0">&#40;</span><span class="st0">&quot;MAX_FILE_SIZE&quot;</span><span class="br0">&#41;</span><span class="sy0">.</span>value<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw3">file</span><span class="sy0">.</span>type <span class="sy0">==</span> <span class="st0">&quot;image/jpg&quot;</span> <span class="sy0">||</span> <span class="kw3">file</span><span class="sy0">.</span>type <span class="sy0">==</span> <span class="st0">&quot;image/jpeg&quot;</span> <span class="sy0">||</span> <span class="kw3">file</span><span class="sy0">.</span>type <span class="sy0">==</span> <span class="st0">&quot;image/png&quot;</span> <span class="sy0">||</span> <span class="kw3">file</span><span class="sy0">.</span>type <span class="sy0">==</span> <span class="st0">&quot;image/gif&quot;</span> &nbsp;<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
<br>
&nbsp; &nbsp; &nbsp; <span class="co1">// create progress bar</span><br>
&nbsp; &nbsp; &nbsp; <span class="kw2">var</span> o <span class="sy0">=</span> <span class="re0">$id</span><span class="br0">&#40;</span><span class="st0">&quot;progress&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; <span class="kw2">var</span> progress <span class="sy0">=</span> o<span class="sy0">.</span>appendChild<span class="br0">&#40;</span>document<span class="sy0">.</span>createElement<span class="br0">&#40;</span><span class="st0">&quot;p&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; progress<span class="sy0">.</span>appendChild<span class="br0">&#40;</span>document<span class="sy0">.</span>createTextNode<span class="br0">&#40;</span><span class="kw3">dir</span> <span class="sy0">+</span> <span class="kw3">file</span><span class="sy0">.</span>name<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
<br>
<br>
&nbsp; &nbsp; &nbsp; <span class="co1">// progress bar</span><br>
&nbsp; &nbsp; &nbsp; xhr<span class="sy0">.</span>upload<span class="sy0">.</span>addEventListener<span class="br0">&#40;</span><span class="st0">&quot;progress&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">var</span> pc <span class="sy0">=</span> parseInt<span class="br0">&#40;</span><span class="nu0">100</span> <span class="sy0">-</span> <span class="br0">&#40;</span>e<span class="sy0">.</span>loaded <span class="sy0">/</span> e<span class="sy0">.</span>total <span class="sy0">*</span> <span class="nu0">100</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; progress<span class="sy0">.</span>style<span class="sy0">.</span>backgroundPosition <span class="sy0">=</span> pc <span class="sy0">+</span> <span class="st0">&quot;% 0&quot;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><span class="sy0">,</span> <span class="kw4">false</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; &nbsp; <span class="co1">// file received/failed</span><br>
&nbsp; &nbsp; &nbsp; xhr<span class="sy0">.</span>onreadystatechange <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>xhr<span class="sy0">.</span>readyState <span class="sy0">==</span> <span class="nu0">4</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; progress<span class="sy0">.</span>className <span class="sy0">=</span> <span class="br0">&#40;</span>xhr<span class="sy0">.</span>status <span class="sy0">==</span> <span class="nu0">200</span> ? <span class="st0">&quot;success&quot;</span> <span class="sy0">:</span> <span class="st0">&quot;failure&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br>
&nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; &nbsp; <span class="co1">// start upload</span><br>
&nbsp; &nbsp; &nbsp; xhr<span class="sy0">.</span>open<span class="br0">&#40;</span><span class="st0">&quot;POST&quot;</span><span class="sy0">,</span> <span class="re0">$id</span><span class="br0">&#40;</span><span class="st0">&quot;upload&quot;</span><span class="br0">&#41;</span><span class="sy0">.</span>action<span class="sy0">,</span> <span class="kw4">true</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; xhr<span class="sy0">.</span>setRequestHeader<span class="br0">&#40;</span><span class="st0">&quot;X_FILENAME&quot;</span><span class="sy0">,</span> <span class="kw3">file</span><span class="sy0">.</span>name<span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; xhr<span class="sy0">.</span>send<span class="br0">&#40;</span><span class="kw3">file</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; <span class="br0">&#125;</span><br>
<br>
&nbsp; <span class="br0">&#125;</span><br>
<span class="br0">&#125;</span> <br>
<br>
<br>
&nbsp; <span class="co1">// initialize</span><br>
&nbsp; <span class="kw2">function</span> Init<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
<br>
&nbsp; &nbsp; <span class="kw2">var</span> fileselect <span class="sy0">=</span> <span class="re0">$id</span><span class="br0">&#40;</span><span class="st0">&quot;fileselect&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span><br>
&nbsp; &nbsp; &nbsp; filedrag <span class="sy0">=</span> <span class="re0">$id</span><span class="br0">&#40;</span><span class="st0">&quot;filedrag&quot;</span><span class="br0">&#41;</span><span class="sy0">,</span><br>
&nbsp; &nbsp; &nbsp; submitbutton <span class="sy0">=</span> <span class="re0">$id</span><span class="br0">&#40;</span><span class="st0">&quot;submitbutton&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">// file select</span><br>
&nbsp; &nbsp; fileselect<span class="sy0">.</span>addEventListener<span class="br0">&#40;</span><span class="st0">&quot;change&quot;</span><span class="sy0">,</span> FileSelectHandler<span class="sy0">,</span> <span class="kw4">false</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">// is XHR2 available?</span><br>
&nbsp; &nbsp; <span class="kw2">var</span> xhr <span class="sy0">=</span> <span class="kw2">new</span> XMLHttpRequest<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>xhr<span class="sy0">.</span>upload<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
<br>
&nbsp; &nbsp; &nbsp; <span class="co1">// file drop</span><br>
&nbsp; &nbsp; &nbsp; filedrag<span class="sy0">.</span>addEventListener<span class="br0">&#40;</span><span class="st0">&quot;dragover&quot;</span><span class="sy0">,</span> FileDragHover<span class="sy0">,</span> <span class="kw4">false</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; filedrag<span class="sy0">.</span>addEventListener<span class="br0">&#40;</span><span class="st0">&quot;dragleave&quot;</span><span class="sy0">,</span> FileDragHover<span class="sy0">,</span> <span class="kw4">false</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; filedrag<span class="sy0">.</span>addEventListener<span class="br0">&#40;</span><span class="st0">&quot;drop&quot;</span><span class="sy0">,</span> FileSelectHandler<span class="sy0">,</span> <span class="kw4">false</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; &nbsp; filedrag<span class="sy0">.</span>style<span class="sy0">.</span>display <span class="sy0">=</span> <span class="st0">&quot;block&quot;</span><span class="sy0">;</span><br>
<br>
&nbsp; &nbsp; &nbsp; <span class="co1">// remove submit button</span><br>
&nbsp; &nbsp; &nbsp; submitbutton<span class="sy0">.</span>style<span class="sy0">.</span>display <span class="sy0">=</span> <span class="st0">&quot;none&quot;</span><span class="sy0">;</span><br>
&nbsp; &nbsp; <span class="br0">&#125;</span><br>
<br>
&nbsp; <span class="br0">&#125;</span><br>
<br>
&nbsp; <span class="co1">// call initialization file</span><br>
&nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>window<span class="sy0">.</span><span class="kw3">File</span> <span class="sy0">&amp;&amp;</span> window<span class="sy0">.</span>FileList <span class="sy0">&amp;&amp;</span> window<span class="sy0">.</span>FileReader<span class="br0">&#41;</span> <span class="br0">&#123;</span><br>
&nbsp; &nbsp; Init<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br>
&nbsp; <span class="br0">&#125;</span><br>
<br>
<br>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div> </p>
</div>
<div class="answer" id="answer3053">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/577835562fa9e54ea5f73adf6b887062?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>login_sucks</a>
ב
<span style="font-size:10px"> 27 ליוני 2012 </span>
<a id="answer_3053" href="JS  הצפנה זהה לPHP.htm#answer_3053">#</a>
</span>
<div class="clear"></div>
</div>
<p>
javascript זה לא חלופה לסקריפט בצד שרת. אתה עדיין צריך לעשות את כל הבדיקות הללו עם PHP. הלקוח יכול לשלוח לך האש/timestamp שכבר קיים במערכת ולעשות override לקובץ קיים וזה במקרה <strong>הטוב</strong>, במקרה הפחות טוב הוא יכול להעלות לך shell או לעשות override לקבצים רגישים. הסקריפט בצד השרת צריך לייצר את כל החלקים הרגישים כמו ID לקובץ. תקבל את הקובץ בשרת ושוב תעשה את אותם בדיקות ולאחר מכן תייצר את ההאש.<br><br>- iosolidar </p>
</div>
</section>
</section>  
<section id="sidebar">
<section id="search_box">
<form method="get" action="http://www.google.co.il/search" id="search_form">
<input type="hidden" name="hl" value="iw">
<input type="checkbox" name="sitesearch" style="display:none" value="http://phpguide.co.il" checked="">
<input type="text" class="search_form" placeholder="חיפוש" name="q" id="search_field">
<input type="submit" value="" title="לחפש">
</form>
</section>
<style>.staticSidebarPageLinks a{color:#e85a2d;font-weight:bold;text-decoration:underline}</style>
<div class='rblock staticSidebarPageLinks' style="padding:0 -50px; width:100%; background: white;">
<a href="page_mvcebook.html" title="למד איך עובד MVC" onclick="Analytics.track('Promotion', 'click', 'GoToLanding', 'mvcebook-sidebar-banner1');">
ספר חינם על MVC
</a>
שאתה הולך להוריד כי אם אתה רוצה ללמוד על ארגון קוד יעיל ומודרני באתרים כמו זה או פייסבוק או כי כולם אוהבים להוריד דברים איכותיים בחינם מהאינטרנט
<br><br>
<a href='page_oopbook.html'>
ספר הלימוד - תכנות מונחה עצמים מאפס
</a>
שסוף סוף ילמד אותך פיתוח מונחה עצמים נכון בצורה פשוטה, יענה על כל השאלות ויכין אותך לרעיונות עבודה.
<br><br>
<a href='page_phpunit.html'>
קורס בדיקות יחידה phpunit
</a>
שיעזור לך להקטין בחצי את כמות הבאגים, את כאב הראש והזמן המבוזבז על פתירתם
<br><br>
<a href='page_mysqlinteractive.html'>
קורס mysql אינטרקטיבי
</a>
שיייקח אותך צעד אחר צעד למומחה שאילתות mysql לייב
<br><br><br>
<small>האתר ב-readonly
<br>
תודה לכל מי שתרם, ענה, שאל, כתב, לימד ועזר במשך השנים <br>
orelbey, splash, raslin, cayce, iiddaannyy, michael, kingyes, ilikeme, itamarhadad, iosolidar, jbstyle<br>
- alex@הדומיין הזה
</small>
</div>
</section>
</div>
<footer id='footer'>
</footer>
</div>  
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-resource.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-cookies.min.js"></script>
<script type="text/javascript" src="..\assets\c2224fc8\jquery.min.js.pagespeed.jm.0IhQ85x_cu.js"></script>
<script src="..\static\scripts\scripts.compiled.js plugins.js ui.js analytics.js.pagespeed.jc.HoDAx8MSoV.js"></script><script>eval(mod_pagespeed_suqc1br1Uj);</script>
<script>eval(mod_pagespeed_tNeKvp6lmR);</script>
<script>eval(mod_pagespeed_PxPJYmoXjB);</script>
<script>eval(mod_pagespeed_2G0hMgPcln);</script>
</body>
</html>
