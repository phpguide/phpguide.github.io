<!DOCTYPE html>
<html lang="he" itemscope="" itemtype="http://schema.org/Blog" ng-app="phpg">
<head>
<base href="http://phpguide.co.il/">
<meta charset="utf-8">
<meta name="description" content="שאלה שאילתות מסד מרובות - ביצועים לעומת זיכרון">
<meta name="keywords" content="שאלה, עזרה">
<meta name="author" content="OrelBeY">
<link rel="shortcut icon" href="..\static\images\favicon.ico">
<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="stylesheet" type="text/css" href="..\static\styles\A.allstyles.compiled.css.pagespeed.cf.P4R8BwzxFu.css">
<title>שאילתות מסד מרובות - ביצועים לעומת זיכרון | שאלת לימוד PHP</title>
<meta itemprop="name" content="שאילתות מסד מרובות - ביצועים לעומת זיכרון | שאלת לימוד PHP">
<meta itemprop="description" content="שאלה שאילתות מסד מרובות - ביצועים לעומת זיכרון">
</head>
<body dir='rtl' class="forum-qna">
<div class='page-container'>
<section id='header'>
<div class="topRowHolder">
<a class="logo" href="..\index.htm"><img src="..\static\images\xlogo.jpg.pagespeed.ic.6YgiLES4FJ.jpg"></a>
<nav class="main">
<ul>
<li><a href="..\index.htm">פוסטים</a></li>
<li><a href="..\qna.htm" class="active">פורום</a></li>
</ul>
<div class="clear"></div>
</nav> <div class="clear"></div>
</div>
</section>  
<div class="layout-holder">
<section id="content">
<div class="qna_view_question" id="qnaQuestionHolder">
<div class="qna-home-row">
<div class="counts">
 
<div class="status  answered">
<div class="item-count">3</div>
<div>
תגובות
</div>
</div>
</div>
<div class="question-summary-wrapper">
<h2><a href="שאילתות מסד מרובות  ביצועים לעומת זיכרון.htm" title="יש לי Model, והוא צריך לשלוף נתונים מבסיס הנתונים. לפעמים אני יודע איזה נתונים אני צריך (בזמן ריצה), ולפעמים לא מיד בהתחלה.אם בטבלה שאליה הוא מקושר יש קצת עמודות, והנתונים שבהם לא שוקלים הרבה - אני פשוט אשלוף את כולם כבר בבנאי של ה-Model. (או אולי לא כדאי לי?)אבל מה עושים אם מדובר בטבלה שיש בה הרבה עמודות, ושיש שם עמודות עם נתונים ששוקלים הרבה יחסית? עדיף לא לשלוף את כולם בהנחה שיהיה בהם שימוש. (וזו בעצם התשובה לשאלה ששאלתי פה פעם.)עכשיו נשאלת השאלה - איך לעשות את זה? האם לחלק ">שאילתות מסד מרובות - ביצועים לעומת זיכרון</a></h2>
<div class="userinfo">
פתח
<a>OrelBeY</a>
,
<time class="timeago relativetime" datetime="2013-05-11T08:52:09+03:00" style="display:inline-block;">
11 למאי 2013 </time>
</div>
</div>
</div> <div class="clear"></div>
<div style="border-top:1px dashed #D1D1D1; margin-top:10px; padding-top:10px; " class="qnapost" id='questionText1439'>
יש לי Model, והוא צריך לשלוף נתונים מבסיס הנתונים. לפעמים אני יודע איזה נתונים אני צריך (בזמן ריצה), ולפעמים לא מיד בהתחלה.<br>אם בטבלה שאליה הוא מקושר יש קצת עמודות, והנתונים שבהם לא שוקלים הרבה - אני פשוט אשלוף את כולם כבר בבנאי של ה-Model. (או אולי לא כדאי לי?)<br>אבל מה עושים אם מדובר בטבלה שיש בה הרבה עמודות, ושיש שם עמודות עם נתונים ששוקלים הרבה יחסית? עדיף לא לשלוף את כולם בהנחה שיהיה בהם שימוש. (וזו בעצם התשובה לשאלה ששאלתי פה פעם.)<br>עכשיו נשאלת השאלה - איך לעשות את זה? האם לחלק את העמודות לקטגוריות לוגיות (ב-Model), ובבנאי יהיה אפשר לבחור איזה מהן לשלוף? אם כן, ואם הדרישות יכולות להשתנות בזמן הריצה - לספק מתודה שתאפשר בחירה חוזרת של קטגוריות של נתונים? (ואם כן, שזה ימחק מהזיכרון - במערך ב-Model - את הנתונים שלא צוינו, או שזה ישאיר אותם?)<br>ומה אם קראתי למתודה getCreationDate, ולא הוריתי לבנאי לשלוף את זה? לזרוק Exception שאומר שקודם צריך לומר מה לשלוף עם המתודה שדיברתי עליה בפסקה הקודמת, לשלוף את העמודה הזאת, או לשלוף את כל העמודות ב&quot;קטגוריה&quot; הזאת, בהנחה שאם קראתי למתודה הזאת - כנראה אני רוצה להשתמש גם במקבילות שלה? </div>
</div>
<h3>
<span id="answersCounter">3 </span>
תשובות
</h3>
<section class="answers" id="qnaAnswers">
<div class="answer" id="answer6431">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/29c688bfdc6cb0d2e6dea24ccdc7beb1?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>intval</a>
ב
<span style="font-size:10px"> 11 למאי 2013 </span>
<a id="answer_6431" href="שאילתות מסד מרובות  ביצועים לעומת זיכרון.htm#answer_6431">#</a>
</span>
<div class="clear"></div>
</div>
<p>
עדיף לא לשלוף שום דבר (ובטח שלא בבנאי) עד הרגע שבו אתה צריך את הנתונים בפועל.<br><br>בקשר לשאלה השניה, אם קראת למטודה getCreationDate אז היא צריכה להחזיר תאריך. אם אין לה את התאריך - היא צריכה בעצמה לשלוף אותו. המשתמש הסופי שלך לא רוצה לדעת על המימוש הפינימי של המודל ולא רוצה להפעיל לבד שליפה מהמסד עם עמודות שהוא יגיד כדי שהמודל יעבוד. הוא לא צריך לדעת שהמודל בכלל מקושר למסד.<br><br>עכשיו בחזרה לשאלה הראשונה שלך - האם לשלוף הכל או לשלוף עמודה עמודה עם הרבה שאילתות - זה הטרייד אוף שכל מתכנת מחליט בשביל עצמו (זכרון או ביצועים). במקרה הספציפי הזה אני היייתי הולך על לשלוף את כל הנתונים, גם אם לא תשתמש בהם (כי זה לא הולך לתפוס כל כך הרבה זיכרון. קילובייטים בודדים. לאומת לעשות הרבה שאילתות למסד זה סדרך כלל רעיון רע). </p>
</div>
<div class="answer" id="answer6432">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 11 למאי 2013 </span>
<a id="answer_6432" href="שאילתות מסד מרובות  ביצועים לעומת זיכרון.htm#answer_6432">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אוקיי, תודה. :-)<br>לבינתיים אני מסמן את זה כתשובה הנכונה. אם עוד מישהו רוצה לומר משהו - בשמחה. :-) </p>
</div>
<div class="answer" id="answer6433">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=20&amp;r=g&amp;d=mm" alt="avatar"> ענה
<a>iiddaannyy</a>
ב
<span style="font-size:10px"> 11 למאי 2013 </span>
<a id="answer_6433" href="שאילתות מסד מרובות  ביצועים לעומת זיכרון.htm#answer_6433">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אני אוהב לעצב את המודלים בצורה כזו שיש מתודה בשם fetch או משהו בסגנון ששולפת את כל העמודות בהתאם למזהה שהעברתי בבנאי.<br><br>לדוגמה כשאני יוצר instance מהמחלקה member אני מעביר id ואז מפעיל את המתודה fetch ששולפת את כל הפרטים של המשתמש עם ה-id הזה מהמסד ומכניסה אותם למאפיינים של האובייקט. </p>
</div>
</section>
</section>  
<section id="sidebar">
<section id="search_box">
<form method="get" action="http://www.google.co.il/search" id="search_form">
<input type="hidden" name="hl" value="iw">
<input type="checkbox" name="sitesearch" style="display:none" value="http://phpguide.co.il" checked="">
<input type="text" class="search_form" placeholder="חיפוש" name="q" id="search_field">
<input type="submit" value="" title="לחפש">
</form>
</section>
<style>.staticSidebarPageLinks a{color:#e85a2d;font-weight:bold;text-decoration:underline}</style>
<div class='rblock staticSidebarPageLinks' style="padding:0 -50px; width:100%; background: white;">
<a href="page_mvcebook.html" title="למד איך עובד MVC" onclick="Analytics.track('Promotion', 'click', 'GoToLanding', 'mvcebook-sidebar-banner1');">
ספר חינם על MVC
</a>
שאתה הולך להוריד כי אם אתה רוצה ללמוד על ארגון קוד יעיל ומודרני באתרים כמו זה או פייסבוק או כי כולם אוהבים להוריד דברים איכותיים בחינם מהאינטרנט
<br><br>
<a href='page_oopbook.html'>
ספר הלימוד - תכנות מונחה עצמים מאפס
</a>
שסוף סוף ילמד אותך פיתוח מונחה עצמים נכון בצורה פשוטה, יענה על כל השאלות ויכין אותך לרעיונות עבודה.
<br><br>
<a href='page_phpunit.html'>
קורס בדיקות יחידה phpunit
</a>
שיעזור לך להקטין בחצי את כמות הבאגים, את כאב הראש והזמן המבוזבז על פתירתם
<br><br>
<a href='page_mysqlinteractive.html'>
קורס mysql אינטרקטיבי
</a>
שיייקח אותך צעד אחר צעד למומחה שאילתות mysql לייב
<br><br><br>
<small>האתר ב-readonly
<br>
תודה לכל מי שתרם, ענה, שאל, כתב, לימד ועזר במשך השנים <br>
orelbey, splash, raslin, cayce, iiddaannyy, michael, kingyes, ilikeme, itamarhadad, iosolidar, jbstyle<br>
- alex@הדומיין הזה
</small>
</div>
</section>
</div>
<footer id='footer'>
</footer>
</div>  
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-resource.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-cookies.min.js"></script>
<script type="text/javascript" src="..\assets\c2224fc8\jquery.min.js.pagespeed.jm.0IhQ85x_cu.js"></script>
<script src="..\static\scripts\scripts.compiled.js plugins.js ui.js analytics.js.pagespeed.jc.HoDAx8MSoV.js"></script><script>eval(mod_pagespeed_suqc1br1Uj);</script>
<script>eval(mod_pagespeed_tNeKvp6lmR);</script>
<script>eval(mod_pagespeed_PxPJYmoXjB);</script>
<script>eval(mod_pagespeed_2G0hMgPcln);</script>
</body>
</html>
