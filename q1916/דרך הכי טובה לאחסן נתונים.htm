<!DOCTYPE html>
<html lang="he" itemscope="" itemtype="http://schema.org/Blog" ng-app="phpg">
<head>
<base href="http://phpguide.co.il/">
<meta charset="utf-8">
<meta name="description" content="שאלה דרך הכי טובה לאחסן נתונים?">
<meta name="keywords" content="שאלה, עזרה">
<meta name="author" content="moshe7799">
<link rel="shortcut icon" href="..\static\images\favicon.ico">
<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="stylesheet" type="text/css" href="..\static\styles\A.allstyles.compiled.css.pagespeed.cf.P4R8BwzxFu.css">
<title>דרך הכי טובה לאחסן נתונים? | שאלת לימוד PHP</title>
<meta itemprop="name" content="דרך הכי טובה לאחסן נתונים? | שאלת לימוד PHP">
<meta itemprop="description" content="שאלה דרך הכי טובה לאחסן נתונים?">
</head>
<body dir='rtl' class="forum-qna">
<div class='page-container'>
<section id='header'>
<div class="topRowHolder">
<a class="logo" href="..\index.htm"><img src="..\static\images\xlogo.jpg.pagespeed.ic.6YgiLES4FJ.jpg"></a>
<nav class="main">
<ul>
<li><a href="..\index.htm">פוסטים</a></li>
<li><a href="..\qna.htm" class="active">פורום</a></li>
</ul>
<div class="clear"></div>
</nav> <div class="clear"></div>
</div>
</section>  
<div class="layout-holder">
<section id="content">
<div class="qna_view_question" id="qnaQuestionHolder">
<div class="qna-home-row">
<div class="counts">
 
<div class="status  answered">
<div class="item-count">16</div>
<div>
תגובות
</div>
</div>
</div>
<div class="question-summary-wrapper">
<h2><a href="דרך הכי טובה לאחסן נתונים.htm" title="אני רוצה לאכסן איזורים וערים בDBכגון אזור המרכז: תל אביב, רמת גן וכו&amp;apos;.מה הדרך הכי טובה לאחסן אותם? בטבלה נפרדת ? באותה טבלה?ואיך אני ניגש בשאילתה למשל אם אני רוצה אזור המרכז שיתן לי את כל התוצאות מתוך התת ערים שלו או רק עיר אחת למשל ספיציפית, עם המבנה שאתה ממליץ?">דרך הכי טובה לאחסן נתונים?</a></h2>
<div class="userinfo">
פתח
<a>moshe7799</a>
,
<time class="timeago relativetime" datetime="2014-05-26T13:35:05+03:00" style="display:inline-block;">
26 למאי 2014 </time>
</div>
</div>
</div> <div class="clear"></div>
<div style="border-top:1px dashed #D1D1D1; margin-top:10px; padding-top:10px; " class="qnapost" id='questionText1916'>
אני רוצה לאכסן איזורים וערים בDB<br>כגון אזור המרכז: תל אביב, רמת גן וכו&apos;.<br>מה הדרך הכי טובה לאחסן אותם? בטבלה נפרדת ? באותה טבלה?<br>ואיך אני ניגש בשאילתה למשל אם אני רוצה אזור המרכז שיתן לי את כל התוצאות מתוך התת ערים שלו או רק עיר אחת למשל ספיציפית, עם המבנה שאתה ממליץ? </div>
</div>
<h3>
<span id="answersCounter">16 </span>
תשובות
</h3>
<section class="answers" id="qnaAnswers">
<div class="answer" id="answer8656">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/96b3bb3a14b26e49ed7f21fea17493ff?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>yonikal56</a>
ב
<span style="font-size:10px"> 26 למאי 2014 </span>
<a id="answer_8656" href="דרך הכי טובה לאחסן נתונים.htm#answer_8656">#</a>
</span>
<div class="clear"></div>
</div>
<p>
טבלה לאזורים, טבלה לערים שבטבלה לערים יש עמודה של האזור שבתוכו נמצאת העיר(ID של אזור). </p>
</div>
<div class="answer" id="answer8657">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/9b57e6629be4751940b8f204749cd2cf?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>moshe7799</a>
ב
<span style="font-size:10px"> 26 למאי 2014 </span>
<a id="answer_8657" href="דרך הכי טובה לאחסן נתונים.htm#answer_8657">#</a>
</span>
<div class="clear"></div>
</div>
<p>
כן חשבתי על זה אבל איזה דרך יש לי לדעת אם היוזר בחר אזור או עיר ספיציפית? </p>
</div>
<div class="answer" id="answer8658">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/96b3bb3a14b26e49ed7f21fea17493ff?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>yonikal56</a>
ב
<span style="font-size:10px"> 26 למאי 2014 </span>
<a id="answer_8658" href="דרך הכי טובה לאחסן נתונים.htm#answer_8658">#</a>
</span>
<div class="clear"></div>
</div>
<p>
2 עמודות בטבלת משתמשים. </p>
</div>
<div class="answer" id="answer8659">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/9b57e6629be4751940b8f204749cd2cf?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>moshe7799</a>
ב
<span style="font-size:10px"> 26 למאי 2014 </span>
<a id="answer_8659" href="דרך הכי טובה לאחסן נתונים.htm#answer_8659">#</a>
</span>
<div class="clear"></div>
</div>
<p>
לא מבין אותך, לא מדובר פה על עיר שהיוזר גר בה. מדובר על טבלה למשל של מוצרים תחשוב כמו באתר יד שניה.<br>נגיד יש לי רשימת SELECT שהיוזר בוחר:<br><strong>מרכז</strong><br>תל אביב<br>רמת גן<br><strong>צפון</strong><br>עפולה<br><br>איך אני יכול לדעת אם המשתמש רוצה את כל המוצרים מהערים שבמרכז ואז להחזיר לו את המידע מכל הערים או אם הוא מבקש רק עיר אחת למשל תל אביב אז להחזיר לו מידע רק בנוגע לתל אביב </p>
</div>
<div class="answer" id="answer8660">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/665efa711b885fb0bfda346fbe51c95c?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>nirbe</a>
ב
<span style="font-size:10px"> 26 למאי 2014 </span>
<a id="answer_8660" href="דרך הכי טובה לאחסן נתונים.htm#answer_8660">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אתה יכול גם להשתמש בקובץ טקסט פשוט בשביל זה, אתה לא חייב רק מסד נתונים.<br>אתה יכול ליצור קובץ טקסט שיראה פחות או יותר ככה:<br><div class="php codeblock"><span class="sy0">-</span>מרכז<span class="sy0">-</span><br>
נתניה<br>
תל אביב<br>
רמת גן<br>
<span class="sy0">-</span>צפון<span class="sy0">-</span><br>
עפולה</div><br><br>וב PHP לקבל מערך דו מימדי: מערך של כל האזורים, ובכל אזור מערך של כל הישובים.<br><br>אפשר לבסס את זה גם על מסד נתונים אם תרצה, אותו העיקרון. </p>
</div>
<div class="answer" id="answer8661">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/9b57e6629be4751940b8f204749cd2cf?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>moshe7799</a>
ב
<span style="font-size:10px"> 27 למאי 2014 </span>
<a id="answer_8661" href="דרך הכי טובה לאחסן נתונים.htm#answer_8661">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אני חייב מסד אחרת איך אני ישלוף להם נתונים לפי העיר שהם רוצים </p>
</div>
<div class="answer" id="answer8662">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 27 למאי 2014 </span>
<a id="answer_8662" href="דרך הכי טובה לאחסן נתונים.htm#answer_8662">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אני לא מבין על מה כל הדיון הזה.<br><div class="php codeblock"><span class="sy0">=====</span> Areas<span class="sy0">/</span>Districts<span class="sy0">/</span>Whatever<span class="sy0">...</span> <span class="sy0">=====</span><br>
<span class="sy0">==</span> &nbsp; &nbsp; id &nbsp; &nbsp; <span class="sy0">|</span> &nbsp; &nbsp; name &nbsp; <span class="sy0">==</span><br>
&nbsp; &nbsp; &nbsp; &nbsp;<span class="nu0">0</span> &nbsp; &nbsp; &nbsp;<span class="sy0">|</span> &nbsp; מרכז<br>
&nbsp; &nbsp; &nbsp; &nbsp;<span class="nu0">1</span> &nbsp; &nbsp; &nbsp;<span class="sy0">|</span> &nbsp; צפון<br>
<span class="sy0">================================</span><br>
<br>
<span class="sy0">===========</span> Cities<span class="sy0">/</span>Places<span class="sy0">/</span>Whatever<span class="sy0">...</span> <span class="sy0">============</span><br>
<span class="sy0">==</span> &nbsp; &nbsp; id &nbsp; &nbsp; <span class="sy0">|</span> &nbsp; &nbsp; name &nbsp; &nbsp; &nbsp; &nbsp;<span class="sy0">|</span> &nbsp; areaId &nbsp; &nbsp; &nbsp;<span class="sy0">==</span><br>
&nbsp; &nbsp; <span class="nu0">0</span> &nbsp; &nbsp; &nbsp;<span class="sy0">|</span> &nbsp; &nbsp;Rishon LeZion &nbsp; &nbsp; <span class="sy0">|</span> &nbsp; &nbsp;<span class="nu0">0</span><br>
<span class="sy0">============================================</span></div><br>ואז פשוט משתמשים בשאילתת JOIN אם רוצים את כל הערים באזור מסוים. </p>
</div>
<div class="answer" id="answer8663">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/9b57e6629be4751940b8f204749cd2cf?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>moshe7799</a>
ב
<span style="font-size:10px"> 27 למאי 2014 </span>
<a id="answer_8663" href="דרך הכי טובה לאחסן נתונים.htm#answer_8663">#</a>
</span>
<div class="clear"></div>
</div>
<p>
זאת לא הבעיה שלי<br> הבעיה איך אתה יודע אם המשתמש בחר שהוא רוצה אזור שלם או רק עיר אחת ומה תהיה השאילתא בהתאם<br>נגיד הוא בחר בעיר אחת זה קל - SELECT FROM CITIES WHERE CITY ID = ID<br>אבל מה אם הוא בוחר באזור איך אני מביא לו את כל הערים ששיכות לאותו אזור? ואיך אני יודע בכלל שהוא רוצה אזור שלם? </p>
</div>
<div class="answer" id="answer8664">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/29c688bfdc6cb0d2e6dea24ccdc7beb1?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>intval</a>
ב
<span style="font-size:10px"> 27 למאי 2014 </span>
<a id="answer_8664" href="דרך הכי טובה לאחסן נתונים.htm#answer_8664">#</a>
</span>
<div class="clear"></div>
</div>
<p>
אם הוא בוחר עיר אחת:<br><div class="php codeblock">select <span class="sy0">*</span> from products where city IN <span class="br0">&#40;</span><span class="re0">$cityName</span><span class="br0">&#41;</span></div><br>אם הוא בוחר איזור<br><div class="php codeblock">select <span class="sy0">*</span> from products where cityId IN <span class="br0">&#40;</span>select cityId cities where areaId <span class="sy0">=</span> <span class="re0">$areaName</span><span class="br0">&#41;</span></div> </p>
</div>
<div class="answer" id="answer8687">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/d13bb8962ca31a6c9ce9f5bb8b90937a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>vu47678</a>
ב
<span style="font-size:10px"> 01 ליוני 2014 </span>
<a id="answer_8687" href="דרך הכי טובה לאחסן נתונים.htm#answer_8687">#</a>
</span>
<div class="clear"></div>
</div>
<p>
ואיך תראה הSELECT בHTML? </p>
</div>
<div class="answer" id="answer8688">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 02 ליוני 2014 </span>
<a id="answer_8688" href="דרך הכי טובה לאחסן נתונים.htm#answer_8688">#</a>
</span>
<div class="clear"></div>
</div>
<p>
עקרונית זה בסדר פשוט להשתמש ב-&lt;optgroup&gt; (שמקבץ אפשרויות ב-&lt;select&gt;), אבל המשתמש לא יוכל ללחוץ על אזור-על במטרה לבחור את כל תתי-האזורים. לצערי אין לזה פתרון סמנטי כרגע. אי אפשר לעשות את זה עם optgroup, כי אין אפשרות לבחור בו בתור אפשרות.<br><br>יש לזה <a href="http://jsfiddle.net/slothbear/9xqpF/">פתרון לא סמנטי</a>: לא להשתמש ב-optgroup ולהשתמש ב-JavaScript (לא תוכל לדעת סתם ככה איזה סוג אזור קיבלת בצד השרת, אז תצטרך להוסיף משהו). אתה בעצם מוותר על הסמנטיות כאן, אבל מספק חוויית משתמש נורמלית. עד שיהיה פתרון סמנטי, אני חושב שזה פתרון קביל ואפילו מועדף. </p>
</div>
<div class="answer" id="answer8689">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/d13bb8962ca31a6c9ce9f5bb8b90937a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>vu47678</a>
ב
<span style="font-size:10px"> 02 ליוני 2014 </span>
<a id="answer_8689" href="דרך הכי טובה לאחסן נתונים.htm#answer_8689">#</a>
</span>
<div class="clear"></div>
</div>
<p>
כן אחי אבל מה יהיה הVALUE של כל אחד לפי השאילתות של אלכס? </p>
</div>
<div class="answer" id="answer8690">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 02 ליוני 2014 </span>
<a id="answer_8690" href="דרך הכי טובה לאחסן נתונים.htm#answer_8690">#</a>
</span>
<div class="clear"></div>
</div>
<p>
ה-ID שלהם אולי? שאילתות תעשה לבד.<br>לא הולכים לתת לך כאן את הקוד הסופי על מגש של זהב. אתה מבין SQL בסיסי ולא מבין משהו מסוים? תגיד מה בדיוק אתה לא מבין. </p>
</div>
<div class="answer" id="answer8691">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/d13bb8962ca31a6c9ce9f5bb8b90937a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>vu47678</a>
ב
<span style="font-size:10px"> 02 ליוני 2014 </span>
<a id="answer_8691" href="דרך הכי טובה לאחסן נתונים.htm#answer_8691">#</a>
</span>
<div class="clear"></div>
</div>
<p>
טוב כנראה יש פה אי הבנה גדולה, אנשים פה לא הבינו אותי אולי אני יסביר שוב פעם מהתחלה:<br>ש לי רשימת SELECT עם אזורים וערים בכל אזור.<br>יש טבלה של מוצרים, ששם יש CITY_ID, ועוד שתי טבלאות - <br>CITIES - NAME, AREA_ID<br>AREAS - ID, NAME<br><br> איך אני ידע לפי הVALUE אם הוא בחר לי באזור או בעיר ספיציפית? הרי זה בטבלאות שונות? ויש ID 1 למשל גם בטבלה ערים וגם באזורים<br>נגיד ואני יכתוב את זה בצורה הזאת:<br><br>&lt;option value=1&quot;&gt;מרכז&lt;/option&gt;<br> &lt;&quot;option value=&quot;1&quot;&gt;תל אביב&lt;/option&gt;<br> &lt;&quot;option value=&quot;2&quot;&gt;רמת גן&lt;/option&gt; </p>
</div>
<div class="answer" id="answer8692">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/7879b706e45bf4406cf3f246538d767f?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>OrelBeY</a>
ב
<span style="font-size:10px"> 02 ליוני 2014 </span>
<a id="answer_8692" href="דרך הכי טובה לאחסן נתונים.htm#answer_8692">#</a>
</span>
<div class="clear"></div>
</div>
<p>
פשוט תוסיף אמצי זיהוי ל-value:<br><div class="php codeblock"><span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;area-1&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;category&quot;</span><span class="sy0">&gt;</span>מרכז<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span><br>
&nbsp; <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;city-1&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;item&quot;</span><span class="sy0">&gt;</span>ראשון לציון<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span><br>
&nbsp; <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;city-2&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;item&quot;</span><span class="sy0">&gt;</span>פתח תקווה<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span><br>
<br>
<span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;area-2&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;category&quot;</span><span class="sy0">&gt;</span>דרום<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span><br>
&nbsp; <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;city-3&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;item&quot;</span><span class="sy0">&gt;</span>אשקלון<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span><br>
&nbsp; <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;city-4&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;item&quot;</span><span class="sy0">&gt;</span>באר שבע<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span></div> </p>
</div>
<div class="answer" id="answer8693">
<div>
<span class="userinfo">
<img class="avatar" src="http://www.gravatar.com/avatar/d13bb8962ca31a6c9ce9f5bb8b90937a?s=20&amp;r=g&amp;d=monsterid" alt="avatar"> ענה
<a>vu47678</a>
ב
<span style="font-size:10px"> 02 ליוני 2014 </span>
<a id="answer_8693" href="דרך הכי טובה לאחסן נתונים.htm#answer_8693">#</a>
</span>
<div class="clear"></div>
</div>
<p>
ואז לפני השאילתא לבדוק בIF אם זאת עיר או אזור ולעשות שאילתא מתאימה בהתאם לזה?<br>זאת הדרך הכי טובה לזה? </p>
</div>
</section>
</section>  
<section id="sidebar">
<section id="search_box">
<form method="get" action="http://www.google.co.il/search" id="search_form">
<input type="hidden" name="hl" value="iw">
<input type="checkbox" name="sitesearch" style="display:none" value="http://phpguide.co.il" checked="">
<input type="text" class="search_form" placeholder="חיפוש" name="q" id="search_field">
<input type="submit" value="" title="לחפש">
</form>
</section>
<style>.staticSidebarPageLinks a{color:#e85a2d;font-weight:bold;text-decoration:underline}</style>
<div class='rblock staticSidebarPageLinks' style="padding:0 -50px; width:100%; background: white;">
<a href="page_mvcebook.html" title="למד איך עובד MVC" onclick="Analytics.track('Promotion', 'click', 'GoToLanding', 'mvcebook-sidebar-banner1');">
ספר חינם על MVC
</a>
שאתה הולך להוריד כי אם אתה רוצה ללמוד על ארגון קוד יעיל ומודרני באתרים כמו זה או פייסבוק או כי כולם אוהבים להוריד דברים איכותיים בחינם מהאינטרנט
<br><br>
<a href='page_oopbook.html'>
ספר הלימוד - תכנות מונחה עצמים מאפס
</a>
שסוף סוף ילמד אותך פיתוח מונחה עצמים נכון בצורה פשוטה, יענה על כל השאלות ויכין אותך לרעיונות עבודה.
<br><br>
<a href='page_phpunit.html'>
קורס בדיקות יחידה phpunit
</a>
שיעזור לך להקטין בחצי את כמות הבאגים, את כאב הראש והזמן המבוזבז על פתירתם
<br><br>
<a href='page_mysqlinteractive.html'>
קורס mysql אינטרקטיבי
</a>
שיייקח אותך צעד אחר צעד למומחה שאילתות mysql לייב
<br><br><br>
<small>האתר ב-readonly
<br>
תודה לכל מי שתרם, ענה, שאל, כתב, לימד ועזר במשך השנים <br>
orelbey, splash, raslin, cayce, iiddaannyy, michael, kingyes, ilikeme, itamarhadad, iosolidar, jbstyle<br>
- alex@הדומיין הזה
</small>
</div>
</section>
</div>
<footer id='footer'>
</footer>
</div>  
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-resource.min.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-cookies.min.js"></script>
<script type="text/javascript" src="..\assets\c2224fc8\jquery.min.js.pagespeed.jm.0IhQ85x_cu.js"></script>
<script src="..\static\scripts\scripts.compiled.js plugins.js ui.js analytics.js.pagespeed.jc.HoDAx8MSoV.js"></script><script>eval(mod_pagespeed_suqc1br1Uj);</script>
<script>eval(mod_pagespeed_tNeKvp6lmR);</script>
<script>eval(mod_pagespeed_PxPJYmoXjB);</script>
<script>eval(mod_pagespeed_2G0hMgPcln);</script>
</body>
</html>
